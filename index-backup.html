<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Listings</title>
    <!-- VERSION: 3.0.0 - FIXED SECTOR DETECTION - 2024-12-25-15:30 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Custom Filter UI -->
    <div id="custom-filter-container">
        <h2 class="filter-heading">QUICK FILTERS</h2>

        <!-- Sector Buttons -->
        <div class="sector-buttons">
            <button class="sector-btn hospitality" data-sector="hospitality">HOSPITALITY</button>
            <button class="sector-btn leisure" data-sector="leisure">LEISURE</button>
            <button class="sector-btn travel" data-sector="travel">TRAVEL</button>
            <button class="sector-btn healthcare" data-sector="healthcare">HEALTHCARE</button>
            <button class="sector-btn business" data-sector="business">BUSINESS</button>
        </div>

        <!-- Search Controls -->
        <div class="search-controls">
            <select id="sector-dropdown" class="custom-dropdown">
                <option value="">All Sectors</option>
                <option value="hospitality">Hospitality</option>
                <option value="leisure">Leisure</option>
                <option value="travel">Travel</option>
                <option value="healthcare">Healthcare</option>
                <option value="business">Business</option>
            </select>

            <input type="text" id="keywords-input" class="custom-input" placeholder="Keywords (separate with comma)">

            <button id="search-btn" class="custom-search-btn">SEARCH</button>
        </div>
    </div>

    <div id="ja-jobs-widget"></div>

<script>

    var _jaJobsSettings = {

        key: "EU2_3pgjze45lgle3kkulh6ljkw5ra",

        jobSearchSettings: {

            showSearchForm: false

        },

        applicationFormSettings: {

            useExternalApplicationForm: false,

            showExternalApplicationFormInNewWindow: false

        }

    };
    setInterval(function () {
        var myClasses = document.getElementsByClassName("view-details");

        for (var i = 0; i < myClasses.length; i++) {
            if (myClasses[i].innerText !== "READ MORE") { myClasses[i].innerText = "READ MORE"; }
        }
    }, 1)

</script>

<script src="https://apps.jobadder.com/widgets/v1/jobs.min.js"></script>

<style>
    /* CRITICAL: Prevent horizontal scrolling on mobile */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box !important;
    }

    *::before, *::after {
        box-sizing: border-box !important;
    }

    /* ============================================
       CUSTOM FILTER STYLES
       ============================================ */

    #custom-filter-container {
        max-width: 1200px;
        margin: 20px auto 15px;
        padding: 20px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .filter-heading {
        font-family: 'Inter', 'Arial', sans-serif;
        font-size: 20px;
        font-weight: 700;
        color: #42195f;
        text-align: center;
        margin-bottom: 18px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .sector-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin-bottom: 18px;
    }

    .sector-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 20px;
        font-family: 'Inter', 'Arial', sans-serif;
        font-size: 13px;
        font-weight: 600;
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .sector-btn.hospitality {
        background: linear-gradient(135deg, #F7941D 0%, #FF8C00 100%);
    }

    .sector-btn.leisure {
        background: linear-gradient(135deg, #DC143C 0%, #C41E3A 100%);
    }

    .sector-btn.travel {
        background: linear-gradient(135deg, #1E90FF 0%, #4169E1 100%);
    }

    .sector-btn.healthcare {
        background: linear-gradient(135deg, #42195f 0%, #5a2a7f 100%);
    }

    .sector-btn.business {
        background: linear-gradient(135deg, #228B22 0%, #32CD32 100%);
    }

    .sector-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .sector-btn.active {
        box-shadow: 0 0 0 3px rgba(66, 25, 95, 0.3);
        transform: scale(1.05);
    }

    .search-controls {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }

    .custom-dropdown,
    .custom-input {
        padding: 12px 16px;
        border: 2px solid #42195f;
        border-radius: 8px;
        font-family: 'Inter', 'Arial', sans-serif;
        font-size: 14px;
        color: #333;
        background: white;
        transition: all 0.3s ease;
    }

    .custom-dropdown {
        min-width: 200px;
    }

    .custom-input {
        flex: 1;
        min-width: 250px;
    }

    .custom-dropdown:focus,
    .custom-input:focus {
        outline: none;
        border-color: #5a2a7f;
        box-shadow: 0 0 0 3px rgba(66, 25, 95, 0.1);
    }

    .custom-search-btn {
        padding: 12px 32px;
        background: linear-gradient(135deg, #42195f 0%, #5a2a7f 100%);
        color: white;
        border: none;
        border-radius: 8px;
        font-family: 'Inter', 'Arial', sans-serif;
        font-size: 14px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .custom-search-btn:hover {
        background: linear-gradient(135deg, #5a2a7f 0%, #42195f 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(66, 25, 95, 0.3);
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        #custom-filter-container {
            margin: 20px 10px;
            padding: 20px 15px;
        }

        .filter-heading {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .sector-buttons {
            gap: 8px;
        }

        .sector-btn {
            padding: 10px 18px;
            font-size: 12px;
        }

        .search-controls {
            flex-direction: column;
            width: 100%;
        }

        .custom-dropdown,
        .custom-input,
        .custom-search-btn {
            width: 100%;
        }
    }

    /* Hide JobAdder's default search form */
    .ja-search-form {
        display: none !important;
    }

    /* Prevent horizontal overflow */
    html, body, #ja-jobs-widget, .ja-job-list, .ja-job-details, .ja-job-apply {
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }

    img, video, iframe, embed, object {
        max-width: 100%;
        height: auto;
    }

    /* Ensure all containers respect viewport */
    div, section, article, main {
        max-width: 100%;
    }

    html {
        overflow-x: hidden;
        overflow-y: auto;
        scroll-behavior: smooth;
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        width: 100%;
        max-width: 100vw;
    }

    body {
        font-family: 'Arial', 'Helvetica', sans-serif;
        background: #ffffff;
        color: #000000;
        line-height: 1.5;
        min-height: 100vh;
        padding: 20px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
        width: 100%;
        max-width: 100vw;
        margin: 0;
    }

    /* Mobile body padding */
    @media (max-width: 768px) {
        body {
            padding: 8px;
        }
    }

    @media (max-width: 480px) {
        body {
            padding: 4px;
        }
    }

    /* Sector color variables - Client Approved */
    :root {
        --healthcare-color: #542B74;
        --hospitality-color: #F39200;
        --leisure-color: #E30613;
        --travel-color: #0071BC;
        --business-solutions-color: #70BF1F;
        --purple-primary: #542B74;
    }

    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    #ja-jobs-widget {
        position: relative;
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        padding: 40px 20px;
        overflow-x: hidden;
        box-sizing: border-box;
        background: white !important;
    }

    .ja-loading {
        position: absolute;
        top: 10px;
        right: 10px;
    }

    .ja-loading.left {
        left: 10px;
        right: auto;
    }





    /* Search Form - Client Approved Purple Design */
    .ja-search-form {
        margin-bottom: 2em;
        background: transparent;
        padding: 0;
        border: none;
        box-shadow: none;
        display: block !important;
    }

    /* Custom filter wrapper - Purple theme as per client */
    .box-filter-wrapper {
        background: white;
        border: 3px solid #542B74;
        border-radius: 12px;
        padding: 20px 25px;
        margin-bottom: 25px;
        box-shadow: 0 4px 12px rgba(84, 43, 116, 0.15);
    }

    .box-filter-container {
        display: flex;
        align-items: center;
        gap: 15px;
        flex-wrap: wrap;
    }

    .box-filter-heading {
        display: none; /* Hide heading as per client design */
    }

    /* Hide sector pills - client wants dropdown only */
    .box-sector-buttons {
        display: none;
    }

    .box-filter-controls {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        min-width: 0;
    }

    .box-filter-dropdown {
        position: relative;
        flex: 0 0 auto;
    }

    .box-filter-dropdown select {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 13px;
        font-weight: 600;
        padding: 12px 35px 12px 15px;
        border: 2px solid #542B74;
        border-radius: 8px;
        background: white;
        color: #542B74;
        cursor: pointer;
        appearance: none;
        min-width: 180px;
        transition: all 0.2s ease;
    }

    .box-filter-dropdown select:hover {
        background: #f8f5fb;
        border-color: #6a3a94;
    }

    .box-filter-dropdown select:focus {
        outline: none;
        border-color: #6a3a94;
        box-shadow: 0 0 0 3px rgba(84, 43, 116, 0.15);
        background: white;
    }

    .box-filter-dropdown::after {
        content: '▼';
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
        font-size: 9px;
        color: #542B74;
        font-weight: bold;
    }

    .box-filter-input {
        flex: 1;
        min-width: 200px;
    }

    .box-filter-input input {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 13px;
        font-weight: 500;
        padding: 12px 15px;
        border: 2px solid #542B74;
        border-radius: 8px;
        background: white;
        color: #2d3748;
        width: 100%;
        transition: all 0.2s ease;
    }

    .box-filter-input input:hover {
        background: #f8f5fb;
        border-color: #6a3a94;
    }

    .box-filter-input input:focus {
        outline: none;
        border-color: #6a3a94;
        box-shadow: 0 0 0 3px rgba(84, 43, 116, 0.15);
        background: white;
    }

    .box-filter-input input::placeholder {
        color: #a0aec0;
        font-weight: 400;
    }

    .box-filter-button {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        padding: 12px 28px;
        background: #542B74;
        border: none;
        border-radius: 8px;
        color: white;
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        white-space: nowrap;
        box-shadow: 0 3px 8px rgba(84, 43, 116, 0.3);
        flex-shrink: 0;
    }

    .box-filter-button:hover {
        background: #6a3a94;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(84, 43, 116, 0.4);
    }

    .box-filter-button:active {
        transform: translateY(0);
        box-shadow: 0 3px 8px rgba(84, 43, 116, 0.3);
    }

    .box-filter-clear {
        display: none; /* Hide clear button as not in client design */
    }

    /* Hide advanced filters - client wants simple design */
    .box-advanced-filters {
        display: none !important;
    }

    /* Keep search form visible but transparent */
    .ja-search-form {
        background: transparent !important;
        border: none !important;
        padding: 0 !important;
        margin-bottom: 2em !important;
    }

    /* Show our custom filter wrapper */
    .box-filter-wrapper {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Responsive for filter */
    @media (max-width: 768px) {
        .box-filter-wrapper {
            padding: 16px 18px;
        }

        .box-filter-container {
            gap: 10px;
        }

        .box-filter-controls {
            flex-direction: column;
            width: 100%;
        }

        .box-filter-dropdown,
        .box-filter-input,
        .box-filter-button {
            width: 100%;
        }

        .box-filter-dropdown select,
        .box-filter-input input,
        .box-filter-button {
            width: 100%;
        }
    }

    /* Responsive - Maintain spacing and layout */
    @media (max-width: 1200px) {
        .box-filter-container {
            gap: 18px;
        }

        .box-sector-buttons {
            order: 3;
            width: 100%;
            border-right: none;
            padding-right: 0;
            padding-top: 15px;
            border-top: 1px solid #e5e7eb;
        }

        .box-filter-controls {
            order: 2;
            width: 100%;
        }

        .box-filter-heading {
            order: 1;
            border-right: none;
            border-bottom: 2px solid #d1d5db;
            padding-right: 0;
            padding-bottom: 12px;
            width: 100%;
        }
    }

    @media (max-width: 768px) {
        .box-filter-wrapper {
            padding: 14px 16px;
        }

        .box-filter-container {
            gap: 14px;
        }

        .box-filter-heading {
            font-size: 14px;
            padding-bottom: 10px;
        }

        .box-filter-controls {
            flex-direction: column;
            align-items: stretch;
            gap: 8px;
        }

        .box-filter-dropdown select,
        .box-filter-input input,
        .box-filter-button,
        .box-filter-clear {
            width: 100%;
            min-width: 100%;
        }

        .box-sector-buttons {
            justify-content: flex-start;
            padding-top: 12px;
        }

        .box-sector-button {
            font-size: 9px;
            padding: 4px 10px;
        }
    }

    /* Forms */

    .ja-form {
        margin-bottom: 3em;
        display: grid;
        justify-content: center;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        grid-gap: 20px;
        background: white;
        padding: 40px;
        border-radius: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.08);
    }

    .ja-form .ja-field-container {
        color: #2d3748;
        margin-bottom: 1.2em;
        display: flex;
        flex-direction: column;
    }

    .ja-form .ja-field-container:before,
    .ja-form .ja-field-container:after {
        content: "";
        display: table;
    }

    .ja-form .ja-field-container:after {
        clear: both;
    }

    .ja-form .ja-field-container label {
        font-family: 'Arial', 'Helvetica', sans-serif;
        display: block;
        width: 100%;
        margin-bottom: 8px;
        font-weight: 700;
        font-size: 13px;
        color: #F7941D;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }



    .ja-form .ja-field-container .ja-field {
        width: 100%;
    }

    .ja-form .ja-field-container select,
    .ja-form .ja-field-container textarea,
    .ja-form .ja-field-container input[type="text"],
    .ja-form .ja-field-container input[type="password"],
    .ja-form .ja-field-container input[type="datetime"],
    .ja-form .ja-field-container input[type="datetime-local"],
    .ja-form .ja-field-container input[type="date"],
    .ja-form .ja-field-container input[type="month"],
    .ja-form .ja-field-container input[type="time"],
    .ja-form .ja-field-container input[type="week"],
    .ja-form .ja-field-container input[type="number"],
    .ja-form .ja-field-container input[type="email"],
    .ja-form .ja-field-container input[type="url"],
    .ja-form .ja-field-container input[type="search"],
    .ja-form .ja-field-container input[type="tel"],
    .ja-form .ja-field-container input[type="color"] {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 14px;
        color: #000000;
        border: 2px solid #F7941D;
        border-radius: 6px;
        transition: all 0.3s ease;
        background: white;
    }

    .ja-form .ja-field-container select:focus,
    .ja-form .ja-field-container textarea:focus,
    .ja-form .ja-field-container input:focus {
        outline: none;
        border-color: #E8850C;
        background: white;
        box-shadow: 0 0 0 3px rgba(247, 148, 29, 0.15);
    }

    .ja-form .ja-field-container select {
        width: 100%;
        padding: 12px 16px;
        color: #4a5568;
        cursor: pointer;
    }

    .ja-form .ja-field-container textarea {
        width: 100%;
        padding: 12px 16px;
        min-height: 100px;
        resize: vertical;
    }

    .ja-form .ja-field-container input[type="text"],
    .ja-form .ja-field-container input[type="password"],
    .ja-form .ja-field-container input[type="datetime"],
    .ja-form .ja-field-container input[type="datetime-local"],
    .ja-form .ja-field-container input[type="date"],
    .ja-form .ja-field-container input[type="month"],
    .ja-form .ja-field-container input[type="time"],
    .ja-form .ja-field-container input[type="week"],
    .ja-form .ja-field-container input[type="number"],
    .ja-form .ja-field-container input[type="email"],
    .ja-form .ja-field-container input[type="url"],
    .ja-form .ja-field-container input[type="search"],
    .ja-form .ja-field-container input[type="tel"],
    .ja-form .ja-field-container input[type="color"] {
        width: 100%;
        padding: 12px 16px;
    }



    .ja-form .ja-field-container .checkbox:after {

        content: ".";

        display: block;

        height: 0;

        clear: both;

        visibility: hidden;

    }



    .ja-form .ja-field-container .checkbox {

        display: block;

        margin-left: 95px;

    }



    .ja-form .ja-field-container .checkbox br {

        clear: left;

    }



    .ja-form .ja-field-container .checkbox input {

        width: 15px;

        height: 19px;

        float: left;

    }



    .ja-form .ja-field-container .checkbox label {

        height: 21px;

        width: auto;

        line-height: 21px;

        float: left;

        padding: 2px 12px 0 5px;

    }





    .ja-form .ja-submit {

        margin-top: 1em;

        margin-left: 100px;

        vertical-align: middle;

    }



    .ja-form .ja-submit .ja-loading {

        position: relative;

        top: 0;

        left: 0;

        margin-left: 10px;

        vertical-align: middle;

    }



    .ja-button {
        box-sizing: border-box;
        text-decoration: none;
        touch-action: manipulation;
        cursor: pointer;
        border: none;
        white-space: nowrap;
        -webkit-user-select: none;
        user-select: none;
        color: #fff !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 16px !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
        padding: 14px 40px !important;
        background: #F7941D !important;
        border-radius: 6px !important;
        text-align: center;
        display: inline-block;
        min-width: 180px !important;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(247, 148, 29, 0.3) !important;
    }

    .ja-button:hover {
        cursor: pointer;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(247, 148, 29, 0.4) !important;
        background: #E8850C !important;
    }

    .ja-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(247, 148, 29, 0.3) !important;
        background: #D97A0A !important;
    }



    .ja-form .ja-field-container .error {

        color: #990000;

        border-color: #990000;

    }



    .ja-form .ja-field-container .validation-error {

        display: block;

        clear: both;

        margin-top: 5px;

        color: #aa0000;

    }



    .ja-form .ja-error-container {

        color: #aa0000;

        margin-top: 2em;

        margin-left: 100px;

    }



    .ja-form .ja-error-container p {

        margin-bottom: 0;

    }



    /* End forms */





    /* Job list */

    .ja-job-list-container {
        margin: 20px 0;
    }

    .ja-job-list-container .no-jobs-content {
        text-align: center;
        padding: 60px 20px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
    }

    .ja-job-list-container .no-jobs-content p {
        font-family: 'Inter', sans-serif;
        font-size: 18px;
        color: #718096;
    }

    .ja-job-list {
        margin-bottom: 3em;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        padding: 0;
        width: 100%;
        max-width: 100%;
        overflow-x: hidden;
    }

    @media (max-width: 768px) {
        .ja-job-list {
            grid-template-columns: 1fr !important;
            gap: 20px;
            padding: 0 !important;
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
    }

    @media (min-width: 769px) and (max-width: 1024px) {
        .ja-job-list {
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }
    }

    @media (min-width: 1025px) and (max-width: 1199px) {
        .ja-job-list {
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
    }

    @media (min-width: 1200px) {
        .ja-job-list {
            grid-template-columns: repeat(4, 1fr);
            gap: 22px;
        }
    }

    .ja-job-list .job {
        line-height: 1.4;
        font-size: 11px;  /* Reduced from 12px */
        font-family: 'Arial', 'Helvetica', sans-serif;
        color: #000000;
        box-sizing: border-box;
        position: relative;
        padding: 0;
        margin-bottom: 0;
        width: 100%;
        background: white;
        border-radius: 17px;  /* Reduced from 20px (15% reduction) */
        border: 3px solid #cccccc;  /* Reduced from 4px */
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
        transition: all 0.3s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 231px;  /* Reduced from 272px (15% reduction) */
    }

    .ja-job-list .job:hover {
        transform: translateY(-4px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .ja-job-list .job.alt {
        line-height: 1.5;
        font-size: 14px;
        font-family: 'Arial', 'Helvetica', sans-serif;
        background: white;
        box-sizing: border-box;
        position: relative;
        padding: 0;
        margin-bottom: 0;
        width: 100%;
        border-radius: 25px;
        border: 5px solid #cccccc;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 320px;
    }

    .ja-job-list .job.alt:hover {
        transform: translateY(-4px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .ja-job-list .job.hot {
        line-height: 1.5;
        font-size: 14px;
        font-family: 'Arial', 'Helvetica', sans-serif;
        color: #000000;
        box-sizing: border-box;
        position: relative;
        padding: 0;
        margin-bottom: 0;
        width: 100%;
        background: white;
        border-radius: 25px;
        border: 5px solid var(--leisure-color);
        box-shadow: 0 3px 10px rgba(227, 6, 19, 0.2);
        transition: all 0.3s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        min-height: 320px;
    }

    .ja-job-list .job.hot:hover {
        transform: translateY(-4px);
        box-shadow: 0 6px 20px rgba(227, 6, 19, 0.3);
    }

    /* Category-specific border colors */
    .ja-job-list .job[data-category*="Business"],
    .ja-job-list .job.business {
        border-color: var(--business-solutions-color);
    }

    .ja-job-list .job[data-category*="Healthcare"],
    .ja-job-list .job.healthcare {
        border-color: var(--healthcare-color);
    }

    .ja-job-list .job[data-category*="Hospitality"],
    .ja-job-list .job.hospitality {
        border-color: var(--hospitality-color);
    }

    .ja-job-list .job[data-category*="Leisure"],
    .ja-job-list .job.leisure {
        border-color: var(--leisure-color);
    }

    .ja-job-list .job[data-category*="Travel"],
    .ja-job-list .job.travel {
        border-color: var(--travel-color);
    }



    /* Category label at top of card - SECTOR-SPECIFIC COLORS */
    .ja-job-list .job::before {
        content: attr(data-category);
        display: block;
        padding: 15px 17px;  /* Reduced from 18px 20px (15% reduction) */
        background-color: #cccccc;  /* Default grey */
        color: white;
        font-weight: 700;
        font-size: 15px;  /* Reduced from 18px (15% reduction) */
        text-transform: uppercase;
        letter-spacing: 1.7px;  /* Reduced from 2px */
        text-align: center;
        border-radius: 17px 17px 0 0;  /* Match job card border-radius */
        flex-shrink: 0;
    }

    /* Business - Green header */
    .ja-job-list .job.business::before,
    .ja-job-list .job[data-category*="Business"]::before {
        content: "BUSINESS";
        background-color: var(--business-solutions-color);
    }

    /* Healthcare - Purple header */
    .ja-job-list .job.healthcare::before,
    .ja-job-list .job[data-category*="Healthcare"]::before {
        content: "HEALTHCARE";
        background-color: var(--healthcare-color);
    }

    /* Hospitality - Orange header */
    .ja-job-list .job.hospitality::before,
    .ja-job-list .job[data-category*="Hospitality"]::before {
        content: "HOSPITALITY";
        background-color: var(--hospitality-color);
    }

    /* Leisure - Red header */
    .ja-job-list .job.leisure::before,
    .ja-job-list .job[data-category*="Leisure"]::before,
    .ja-job-list .job.hot::before {
        content: "LEISURE";
        background-color: var(--leisure-color);
    }

    /* Travel - Blue header */
    .ja-job-list .job.travel::before,
    .ja-job-list .job[data-category*="Travel"]::before {
        content: "TRAVEL";
        background-color: var(--travel-color);
    }

    /* Job card content wrapper */
    .ja-job-list .job > * {
        padding-left: 20px;  /* Reduced from 24px (15% reduction) */
        padding-right: 20px;
    }

    .ja-job-list .job > *:last-child {
        padding-bottom: 20px;  /* Reduced from 24px */
        margin-top: auto;
    }

    .ja-job-list .job .title {
        text-align: center;
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 14px;  /* Reduced from 16px (15% reduction) */
        font-weight: 700;
        line-height: 1.3;
        text-transform: uppercase;
        letter-spacing: 0.3px;
        box-sizing: border-box;
        background-color: transparent;
        text-decoration: none;
        color: #000000;
        margin-bottom: 8px;  /* Reduced from 10px */
        margin-top: 15px;  /* Reduced from 18px */
        padding: 0;  /* Centered title */
        transition: color 0.3s ease;
    }

    .ja-job-list .job .title:hover {
        color: #333333;
    }

    .ja-job-list .job .title a {
        text-align: center;
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 14px;  /* Reduced from 16px */
        font-weight: 700;
        line-height: 1.3;
        text-transform: uppercase;
        letter-spacing: 0.3px;
        box-sizing: border-box;
        background-color: transparent;
        text-decoration: none;
        color: #000000;
        transition: color 0.3s ease;
        display: block;
    }

    .ja-job-list .job .title a:hover {
        color: #333333;
    }



    /* Date styling - positioned top-right in white content area, matching client design */
    .ja-job-list .job .date,
    .ja-job-list .job .meta .date {
        color: #666666;
        font-weight: 400;
        font-size: 13px;
        text-align: right;
        position: absolute;
        top: 70px;
        right: 30px;
        margin: 0;
        display: block;
        z-index: 10;
        line-height: 1.2;
    }

    .ja-job-list .job .meta {
        font-family: 'Arial', 'Helvetica', sans-serif;
        color: #000000;
        font-size: 12px;  /* Reduced from 14px */
        line-height: 1.5;
        box-sizing: border-box;
        display: block;
        text-align: center;
        padding: 0 10px;  /* Reduced from 12px */
    }

    .ja-job-list .job .meta p {
        font-size: 12px;  /* Reduced from 14px */
        margin-bottom: 5px;  /* Reduced from 6px */
        text-align: center;
        font-weight: 400;
    }

    /* Employment type and location */
    .ja-job-list .job .meta .employment-type,
    .ja-job-list .job .meta .location {
        font-weight: 400;
        color: #000000;
    }



    .ja-job-list .job .meta .classifications {
        line-height: 1.8;
        font-size: 15px;
        font-family: 'Inter', sans-serif;
        color: #4a5568;
        box-sizing: border-box;
        list-style: none;
        padding: 0;
        margin-top: 20px;
        margin-bottom: 20px;
        font-weight: 500;
    }

    .ja-job-list .job .meta .classifications li {
        list-style: none;
        box-sizing: border-box;
        font-family: 'Inter', sans-serif;
        font-size: 15px;
        overflow: hidden;
        margin-top: 8px;
        color: #4a5568;
        display: flex;
        align-items: center;
    }

    .ja-job-list .job .meta .classifications li::before {
        content: "\2022";
        color: #EC1C23;
        font-size: 20px;
        font-weight: bold;
        padding-right: 12px;
        flex-shrink: 0;
    }

    .ja-job-list .job .meta .date-posted {
        box-sizing: border-box;
        margin: 0;
        padding: 12px 20px;
        text-align: center;
        font-family: 'Inter', sans-serif;
        font-size: 14px;
        line-height: 1.5;
        font-weight: 600;
        color: #718096;
        background: #f7fafc;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
    }



    .ja-job-list .job .meta .salary {

        clear: left;

        float: left;

    }



    .ja-job-list .job .meta .reference {

        float: right;

        text-align: right;

    }



    .ja-job-list .job .summary {
        line-height: 1.5;
        font-size: 11px;  /* Reduced from 13px (15% reduction) */
        font-family: 'Arial', 'Helvetica', sans-serif;
        box-sizing: border-box;
        margin: 8px 0 12px;  /* Reduced from 10px 0 14px */
        padding: 0;
        color: #000000;
        text-align: center;
        font-weight: 400;
    }

    .ja-job-list .job .view-details {
        box-sizing: border-box;
        text-decoration: none;
        touch-action: manipulation;
        cursor: pointer;
        border: none;
        white-space: nowrap;
        -webkit-user-select: none;
        user-select: none;
        color: #cccccc;
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 12px;  /* Reduced from 14px (15% reduction) */
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.4px;  /* Reduced from 0.5px */
        padding: 0;
        background: transparent;
        border-radius: 0;
        text-align: center;
        display: block;
        min-width: auto;
        margin-bottom: 17px;  /* Reduced from 20px */
        transition: all 0.3s ease;
        box-shadow: none;
    }

    .ja-job-list .job .view-details:hover {
        transform: none;
        box-shadow: none;
        background: transparent;
        cursor: pointer;
        text-decoration: underline;
    }

    .ja-job-list .job .view-details:active {
        transform: none;
        box-shadow: none;
    }

    /* Sector-specific styling - READ MORE colors and borders */
    .ja-job-list .job.business .view-details,
    .ja-job-list .job[data-category*="Business"] .view-details {
        color: var(--business-solutions-color);
    }

    .ja-job-list .job.business,
    .ja-job-list .job[data-category*="Business"] {
        border-color: var(--business-solutions-color) !important;
    }

    .ja-job-list .job.healthcare .view-details,
    .ja-job-list .job[data-category*="Healthcare"] .view-details {
        color: var(--healthcare-color);
    }

    .ja-job-list .job.healthcare,
    .ja-job-list .job[data-category*="Healthcare"] {
        border-color: var(--healthcare-color) !important;
    }

    .ja-job-list .job.hospitality .view-details,
    .ja-job-list .job[data-category*="Hospitality"] .view-details {
        color: var(--hospitality-color);
    }

    .ja-job-list .job.hospitality,
    .ja-job-list .job[data-category*="Hospitality"] {
        border-color: var(--hospitality-color) !important;
    }

    .ja-job-list .job.leisure .view-details,
    .ja-job-list .job[data-category*="Leisure"] .view-details,
    .ja-job-list .job.hot .view-details {
        color: var(--leisure-color);
    }

    .ja-job-list .job.leisure,
    .ja-job-list .job[data-category*="Leisure"],
    .ja-job-list .job.hot {
        border-color: var(--leisure-color) !important;
    }

    .ja-job-list .job.travel .view-details,
    .ja-job-list .job[data-category*="Travel"] .view-details {
        color: var(--travel-color);
    }

    .ja-job-list .job.travel,
    .ja-job-list .job[data-category*="Travel"] {
        border-color: var(--travel-color) !important;
    }





    /* End job list */





    /* Pager */

    .ja-pager-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 40px 0;
        flex-wrap: wrap;
        gap: 20px;
    }

    .ja-pager-container:before,
    .ja-pager-container:after {
        content: "";
        display: table;
    }

    .ja-pager-container:after {
        clear: both;
    }

    .ja-pager {
        display: flex;
        gap: 8px;
        font-size: 14px;
        font-family: 'Inter', sans-serif;
    }



    .ja-pager:before,
    .ja-pager:after {
        content: "";
        display: table;
    }

    .ja-pager:after {
        clear: both;
    }

    .ja-pager span,
    .ja-pager a {
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 40px;
        height: 40px;
        padding: 0 12px;
        color: #4a5568;
        background-color: white;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .ja-pager a:hover,
    .ja-pager .current-page {
        color: #fff;
        background: linear-gradient(135deg, #42195f 0%, #5a2380 100%);
        border-color: #42195f;
        text-decoration: none;
        font-family: 'Inter', sans-serif;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(66, 25, 95, 0.2);
    }

    .ja-pager .previous,
    .ja-pager .next {
        font-family: 'Inter', sans-serif;
        font-weight: 600;
    }

    .ja-pager .first-page,
    .ja-pager .last-page {
        font-family: 'Inter', sans-serif;
    }

    .ja-pager .previous-ellipsis,
    .ja-pager .next-ellipsis {
        font-family: 'Inter', sans-serif;
    }

    .ja-pager-summary {
        line-height: 1.5;
        font-size: 14px;
        color: #718096;
        font-family: 'Inter', sans-serif;
    }



    /* End pager */





    /* Job details */

    .ja-job-details {
        background: white;
        padding: 0;
        border-radius: 25px;
        border: 5px solid #cccccc;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        margin: 40px auto;
        max-width: 900px;
        width: 90%;
        overflow: hidden;
    }

    /* Colored header bar with job title */
    .ja-job-details .title {
        text-align: center;
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 24px;
        font-weight: 700;
        line-height: 1.4;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        box-sizing: border-box;
        background-color: #cccccc;
        text-decoration: none;
        color: white;
        margin: 0;
        padding: 20px 30px;
        border-radius: 20px 20px 0 0;
    }

    /* Content wrapper with proper spacing */
    .ja-job-details > *:not(.title) {
        padding-left: 35px;
        padding-right: 35px;
    }

    .ja-job-details .meta {
        margin-bottom: 2em;
        margin-top: 2em;
        padding: 20px 0;
        background: transparent;
        border-radius: 0;
        text-align: center;
    }

    .ja-job-details .meta:before,
    .ja-job-details .meta:after {
        content: "";
        display: table;
    }

    .ja-job-details .meta:after {
        clear: both;
    }

    .ja-job-details .meta p {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 15px;
        margin-bottom: 0.8em;
        color: #2c3e50;
        line-height: 1.8;
    }

    .ja-job-details .meta p strong {
        color: #cccccc;
        font-weight: 700;
        margin-right: 8px;
    }

    /* Sector-specific job details styling */
    .ja-job-details.healthcare {
        border-color: var(--healthcare-color) !important;
    }

    .ja-job-details.healthcare .title {
        background-color: var(--healthcare-color) !important;
    }

    .ja-job-details.healthcare .meta p strong,
    .ja-job-details.healthcare .description strong,
    .ja-job-details.healthcare .description b {
        color: var(--healthcare-color) !important;
    }

    .ja-job-details.healthcare .description ul li::marker,
    .ja-job-details.healthcare .bullet-points li::marker {
        color: var(--healthcare-color) !important;
    }

    .ja-job-details.hospitality {
        border-color: var(--hospitality-color) !important;
    }

    .ja-job-details.hospitality .title {
        background-color: var(--hospitality-color) !important;
    }

    .ja-job-details.hospitality .meta p strong,
    .ja-job-details.hospitality .description strong,
    .ja-job-details.hospitality .description b {
        color: var(--hospitality-color) !important;
    }

    .ja-job-details.hospitality .description ul li::marker,
    .ja-job-details.hospitality .bullet-points li::marker {
        color: var(--hospitality-color) !important;
    }

    .ja-job-details.leisure {
        border-color: var(--leisure-color) !important;
    }

    .ja-job-details.leisure .title {
        background-color: var(--leisure-color) !important;
    }

    .ja-job-details.leisure .meta p strong,
    .ja-job-details.leisure .description strong,
    .ja-job-details.leisure .description b {
        color: var(--leisure-color) !important;
    }

    .ja-job-details.leisure .description ul li::marker,
    .ja-job-details.leisure .bullet-points li::marker {
        color: var(--leisure-color) !important;
    }

    .ja-job-details.travel {
        border-color: var(--travel-color) !important;
    }

    .ja-job-details.travel .title {
        background-color: var(--travel-color) !important;
    }

    .ja-job-details.travel .meta p strong,
    .ja-job-details.travel .description strong,
    .ja-job-details.travel .description b {
        color: var(--travel-color) !important;
    }

    .ja-job-details.travel .description ul li::marker,
    .ja-job-details.travel .bullet-points li::marker {
        color: var(--travel-color) !important;
    }

    .ja-job-details.business {
        border-color: var(--business-solutions-color) !important;
    }

    .ja-job-details.business .title {
        background-color: var(--business-solutions-color) !important;
    }

    .ja-job-details.business .meta p strong,
    .ja-job-details.business .description strong,
    .ja-job-details.business .description b {
        color: var(--business-solutions-color) !important;
    }

    .ja-job-details.business .description ul li::marker,
    .ja-job-details.business .bullet-points li::marker {
        color: var(--business-solutions-color) !important;
    }

    /* Sector-specific Apply button colors */
    .ja-job-details.healthcare .apply .ja-button {
        background: linear-gradient(135deg, #542B74 0%, #42195f 100%) !important;
        color: white !important;
        border: none !important;
    }

    .ja-job-details.hospitality .apply .ja-button {
        background: linear-gradient(135deg, #F39200 0%, #E8850C 100%) !important;
        color: white !important;
        border: none !important;
    }

    .ja-job-details.leisure .apply .ja-button {
        background: linear-gradient(135deg, #E30613 0%, #C5050F 100%) !important;
        color: white !important;
        border: none !important;
    }

    .ja-job-details.travel .apply .ja-button {
        background: linear-gradient(135deg, #0071BC 0%, #005A94 100%) !important;
        color: white !important;
        border: none !important;
    }

    .ja-job-details.business .apply .ja-button {
        background: linear-gradient(135deg, #70BF1F 0%, #5FA319 100%) !important;
        color: white !important;
        border: none !important;
    }



    .ja-job-details .meta .classifications {
        font-family: 'Inter', sans-serif;
        font-weight: 600;
        list-style: none;
        margin: 0 0 1em 0;
        padding: 0;
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
    }

    .ja-job-details .meta .classifications li {
        font-family: 'Inter', sans-serif;
        display: inline-block;
        padding: 6px 16px;
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 20px;
        font-size: 14px;
        color: #4a5568;
        transition: all 0.3s ease;
    }

    .ja-job-details .meta .classifications li:hover {
        border-color: #42195f;
        color: #42195f;
    }

    .ja-job-details .meta .date-posted {
        clear: right;
        float: right;
        width: 50%;
        text-align: right;
        font-weight: 600;
        color: #718096;
        padding-right: 50px; /* Move date slightly left */
    }

    .ja-job-details .meta .salary {
        clear: left;
        float: left;
        font-weight: 600;
        color: #4a5568;
    }

    .ja-job-details .meta .reference {
        float: right;
        text-align: right;
        font-weight: 600;
        color: #718096;
    }

    .ja-job-details .bullet-points {
        margin: 16px 0;
    }

    .ja-job-details .bullet-points li {
        margin-bottom: 10px;
        color: #000000;
        line-height: 1.6;
    }

    .ja-job-details .bullet-points li::marker {
        color: #F7941D;
    }



    .ja-job-details .description {
        font-family: 'Arial', 'Helvetica', sans-serif;
        color: #2c3e50;
        line-height: 1.8;
        font-size: 15px;
        margin-bottom: 2em;
    }

    .ja-job-details .description h3,
    .ja-job-details .description h4 {
        color: #1a202c;
        font-weight: 700;
        margin-top: 28px;
        margin-bottom: 16px;
        font-size: 18px;
        letter-spacing: 0.5px;
    }

    .ja-job-details .description p {
        margin-bottom: 16px;
        color: #2c3e50;
        text-align: justify;
    }

    .ja-job-details .description ul {
        margin: 16px 0;
        padding-left: 30px;
    }

    .ja-job-details .description ul li {
        margin-bottom: 12px;
        color: #2c3e50;
        line-height: 1.8;
    }

    .ja-job-details .description ul ::marker {
        color: #F7941D;
        font-size: 1.2em;
    }

    .ja-job-details .apply {
        margin: 3em 0 3em 0;
        padding: 20px 0;
        text-align: center;
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;
        gap: 20px;
        border-top: 2px solid #f0f0f0;
    }

    .ja-job-details .apply .ja-button {
        margin: 0 auto;
        padding: 16px 50px !important;
        font-size: 16px !important;
        font-weight: 700 !important;
        letter-spacing: 1.5px !important;
        border-radius: 8px !important;
        transition: all 0.3s ease !important;
    }

    .ja-job-details .apply .ja-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15) !important;
    }

    .ja-job-details .apply .back-link {
        font-family: 'Arial', 'Helvetica', sans-serif;
        font-size: 15px;
        color: #718096;
        text-decoration: none;
        transition: all 0.3s ease;
        font-weight: 500;
        padding: 8px 16px;
    }

    .ja-job-details .apply .back-link:hover {
        color: #F7941D;
        text-decoration: none;
        background: #f8f9fa;
        border-radius: 6px;
    }

    .ja-job-details .apply .back-link::before {
        content: "← ";
        margin-right: 8px;
        font-size: 18px;
    }



    /* End job details */



    /* Application form iframe (external app forms) */

    .ja-apply-iframe {
        background: white;
        padding: 40px;
        border-radius: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.08);
        margin: 40px 0;
    }

    .ja-apply-iframe iframe {
        width: 100%;
        min-height: 600px;
        border: none;
        border-radius: 8px;
        background: #f7fafc;
    }

    .ja-apply-iframe .apply {
        margin: 2em 0 1em 0;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 16px;
        flex-wrap: wrap;
    }

    .ja-apply-iframe .apply .back-link {
        font-size: 15px;
        font-family: 'Inter', sans-serif;
        color: #4a5568;
        text-decoration: none;
        transition: color 0.3s ease;
        font-weight: 500;
    }

    .ja-apply-iframe .apply .back-link:hover {
        color: #42195f;
        text-decoration: underline;
    }

    /* End application form iframe */

    /* Application form */

    .ja-job-apply {
        background: white !important;
        padding: 0 !important;
        border-radius: 25px !important;
        border: 5px solid #cccccc !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15) !important;
        margin: 40px auto !important;
        max-width: 900px !important;
        overflow: hidden !important;
    }

    .ja-job-apply h2,
    .ja-job-apply h3 {
        font-family: 'Arial', 'Helvetica', sans-serif;
        color: #000000;
        margin-bottom: 20px;
        font-weight: 700;
    }

    /* Default header bar with job title */
    .ja-job-apply h2 {
        font-size: 15px !important;
        text-align: center !important;
        color: white !important;
        background-color: #cccccc !important;
        text-transform: uppercase !important;
        letter-spacing: 1.5px !important;
        margin: 0 !important;
        padding: 12px 25px !important;
        border-radius: 20px 20px 0 0 !important;
        font-weight: 700 !important;
    }

    .ja-job-apply h3 {
        font-size: 16px;
        margin-top: 20px;
        border-bottom: 2px solid #cccccc;
        padding-bottom: 8px;
        color: #000000;
    }

    /* Sector-specific apply form styling */
    .ja-job-apply.healthcare {
        border-color: var(--healthcare-color) !important;
    }

    .ja-job-apply.healthcare h2 {
        background-color: var(--healthcare-color) !important;
    }

    .ja-job-apply.healthcare h3 {
        border-bottom-color: var(--healthcare-color) !important;
    }

    .ja-job-apply.hospitality {
        border-color: var(--hospitality-color) !important;
    }

    .ja-job-apply.hospitality h2 {
        background-color: var(--hospitality-color) !important;
    }

    .ja-job-apply.hospitality h3 {
        border-bottom-color: var(--hospitality-color) !important;
    }

    .ja-job-apply.leisure {
        border-color: var(--leisure-color) !important;
    }

    .ja-job-apply.leisure h2 {
        background-color: var(--leisure-color) !important;
    }

    .ja-job-apply.leisure h3 {
        border-bottom-color: var(--leisure-color) !important;
    }

    .ja-job-apply.travel {
        border-color: var(--travel-color) !important;
    }

    .ja-job-apply.travel h2 {
        background-color: var(--travel-color) !important;
    }

    .ja-job-apply.travel h3 {
        border-bottom-color: var(--travel-color) !important;
    }

    .ja-job-apply.business {
        border-color: var(--business-solutions-color) !important;
    }

    .ja-job-apply.business h2 {
        background-color: var(--business-solutions-color) !important;
    }

    .ja-job-apply.business h3 {
        border-bottom-color: var(--business-solutions-color) !important;
    }

    /* Logo/branding area after header */
    .ja-job-apply .ja-branding,
    .ja-job-apply > p:first-of-type,
    .ja-job-apply > div:first-of-type {
        text-align: center !important;
        padding: 20px 30px 15px 30px !important;
        margin: 0 !important;
        background: white !important;
    }

    /* Content padding */
    .ja-job-apply > *:not(h2) {
        padding-left: 30px !important;
        padding-right: 30px !important;
    }

    .ja-job-apply > h2 + * {
        margin-top: 0 !important;
        padding-top: 20px !important;
    }

    /* Override .ja-form styles when inside .ja-job-apply */
    .ja-job-apply .ja-form {
        background: transparent !important;
        padding: 0 !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        margin-bottom: 2em !important;
        display: block !important;
        grid-template-columns: none !important;
    }

    /* Two-column layout for form fields */
    .ja-job-apply .ja-form .ja-field-container {
        display: inline-block !important;
        width: 48.5% !important;
        vertical-align: top !important;
        margin-right: 3% !important;
        margin-bottom: 15px !important;
    }

    /* Remove margin from every second field */
    .ja-job-apply .ja-form .ja-field-container:nth-child(2n) {
        margin-right: 0 !important;
    }

    /* Full width for certain fields - Email, Cover Note, File Upload, Checkbox */
    .ja-job-apply .ja-form .ja-field-container:nth-child(odd):nth-last-child(1),
    .ja-job-apply .ja-form .ja-field-container.full-width,
    .ja-job-apply .ja-form .ja-field-container:has(input[type="email"]),
    .ja-job-apply .ja-form .ja-field-container:has(textarea),
    .ja-job-apply .ja-form .ja-field-container:has(input[type="file"]),
    .ja-job-apply .ja-form .ja-field-container.checkbox {
        width: 100% !important;
        margin-right: 0 !important;
    }

    /* Form field labels - colors applied dynamically by JavaScript */
    .ja-job-apply .ja-form .ja-field-container label {
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-weight: 700 !important;
        font-size: 10px !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        margin-bottom: 5px !important;
        display: block !important;
    }

    /* Form inputs - border colors applied dynamically by JavaScript */
    .ja-job-apply .ja-form .ja-field-container select,
    .ja-job-apply .ja-form .ja-field-container textarea,
    .ja-job-apply .ja-form .ja-field-container input[type="text"],
    .ja-job-apply .ja-form .ja-field-container input[type="email"],
    .ja-job-apply .ja-form .ja-field-container input[type="tel"],
    .ja-job-apply .ja-form .ja-field-container input[type="number"],
    .ja-job-apply .ja-form .ja-field-container input[type="file"] {
        background: white !important;
        color: #000000 !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 13px !important;
        padding: 8px 10px !important;
        border-radius: 3px !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }

    .ja-job-apply .ja-form .ja-field-container select:focus,
    .ja-job-apply .ja-form .ja-field-container textarea:focus,
    .ja-job-apply .ja-form .ja-field-container input:focus {
        border-color: #E8850C !important;
        box-shadow: 0 0 0 2px rgba(247, 148, 29, 0.1) !important;
        outline: none !important;
    }

    /* Textarea styling */
    .ja-job-apply .ja-form .ja-field-container textarea {
        min-height: 60px !important;
        resize: vertical !important;
    }

    /* Phone/Mobile country code selects - smaller width */
    .ja-job-apply .ja-form .ja-field-container select[name*="country"],
    .ja-job-apply .ja-form .ja-field-container select.country-code,
    .ja-job-apply .ja-form .ja-field-container .country-code-select {
        width: 100px !important;
        min-width: 100px !important;
        max-width: 100px !important;
        flex: 0 0 100px !important;
        display: inline-block !important;
        margin-right: 10px !important;
    }

    .ja-job-apply .ja-form .ja-field-container input[type="tel"] {
        width: calc(100% - 110px) !important;
        flex: 1 !important;
        display: inline-block !important;
    }

    .ja-job-apply .ja-success-text {
        background: #fff8f0 !important;
        border: 3px solid #F7941D !important;
        border-radius: 10px !important;
        padding: 20px 30px !important;
        margin: 20px 0 !important;
        color: #000000 !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 15px !important;
        font-weight: 600 !important;
        text-align: center !important;
        box-shadow: 0 2px 8px rgba(247, 148, 29, 0.2) !important;
        line-height: 1.6 !important;
    }

    .ja-job-apply .ja-success-text::before {
        content: "✓ " !important;
        font-size: 20px !important;
        font-weight: bold !important;
        color: #F7941D !important;
    }

    .ja-job-apply .ja-submit {
        display: block !important;
        text-align: center !important;
        margin-top: 20px !important;
        margin-bottom: 15px !important;
        padding-top: 0 !important;
        border-top: none !important;
        width: 100% !important;
    }

    .ja-job-apply .ja-submit .ja-button {
        display: inline-block !important;
        width: auto !important;
        min-width: 140px !important;
        max-width: none !important;
        margin: 0 auto 15px auto !important;
        padding: 10px 30px !important;
        font-size: 14px !important;
        letter-spacing: 1px !important;
    }

    /* JobAdder link styling */
    .ja-job-apply a[href*="jobadder"] {
        display: block !important;
        text-align: center !important;
        font-size: 11px !important;
        color: #666 !important;
        text-decoration: none !important;
        margin: 15px 0 !important;
    }

    .ja-job-apply .ja-submit .back-link {
        font-size: 12px !important;
        margin-left: 0 !important;
        color: #000000 !important;
        text-decoration: none !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        transition: color 0.3s ease !important;
        font-weight: 400 !important;
        display: block !important;
        text-align: center !important;
        margin-top: 15px !important;
    }

    .ja-job-apply .ja-submit .back-link:hover {
        color: #F7941D !important;
        text-decoration: none !important;
    }

    .ja-job-apply .ja-submit .back-link::before {
        content: "<<" !important;
        margin-right: 5px !important;
    }

    /* File upload styling */
    .ja-job-apply input[type="file"] {
        font-family: 'Arial', 'Helvetica', sans-serif;
        padding: 12px;
        border: 2px solid #F7941D;
        border-radius: 6px;
        background: white;
        cursor: pointer;
        transition: all 0.3s ease;
        color: #000000;
    }

    .ja-job-apply input[type="file"]:hover {
        border-color: #E8850C;
        background: #fff8f0;
    }

    /* Error messages */
    .ja-job-apply .ja-error-container {
        background: #fef2f2;
        border: 3px solid #ef4444;
        border-radius: 10px;
        padding: 20px;
        margin: 24px 40px;
        color: #991b1b;
        font-family: 'Arial', 'Helvetica', sans-serif;
    }

    .ja-job-apply .ja-error-container p {
        margin-bottom: 8px;
        font-weight: 700;
        font-size: 14px;
    }

    .ja-job-apply .ja-error-container ul {
        margin-top: 12px;
        padding-left: 24px;
    }

    .ja-job-apply .ja-error-container li {
        margin-bottom: 6px;
    }

    /* Required field indicator */
    .ja-job-apply .ja-field-container label.required::after {
        content: " *";
        color: #F7941D;
        font-weight: bold;
    }

    /* File upload button styling */
    .ja-job-apply .ja-form .ja-field-container input[type="file"] {
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
    }

    .ja-job-apply .ja-form .ja-field-container input[type="file"]::file-selector-button {
        background: #F7941D !important;
        color: white !important;
        border: none !important;
        padding: 8px 20px !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 12px !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        border-radius: 3px !important;
        cursor: pointer !important;
        margin-right: 10px !important;
    }

    .ja-job-apply .ja-form .ja-field-container input[type="file"]::file-selector-button:hover {
        background: #E8850C !important;
    }

    /* Radio buttons styling */
    .ja-job-apply .ja-form .ja-field-container input[type="radio"] {
        width: auto !important;
        margin-right: 8px !important;
        accent-color: #F7941D !important;
        vertical-align: middle !important;
    }

    .ja-job-apply .ja-form .ja-field-container .radio-group {
        display: inline-block !important;
        margin-right: 20px !important;
    }

    .ja-job-apply .ja-form .ja-field-container .radio-group label {
        display: inline !important;
        text-transform: none !important;
        font-size: 13px !important;
        color: #000 !important;
        font-weight: 400 !important;
        margin-left: 5px !important;
    }

    /* Checkbox container - full width */
    .ja-job-apply .ja-form .ja-field-container.checkbox,
    .ja-job-apply .ja-field-container .checkbox {
        width: 100% !important;
        margin-right: 0 !important;
        display: block !important;
    }

    /* Privacy policy and terms */
    .ja-job-apply .ja-field-container .checkbox label {
        font-size: 12px !important;
        line-height: 1.6 !important;
        color: #000000 !important;
        text-transform: none !important;
        font-weight: 400 !important;
        display: inline !important;
        width: auto !important;
    }

    .ja-job-apply .ja-field-container .checkbox input[type="checkbox"] {
        width: auto !important;
        margin-right: 8px !important;
        accent-color: #F7941D !important;
        vertical-align: middle !important;
    }

    .ja-job-apply .ja-field-container .checkbox a {
        color: #F7941D !important;
        text-decoration: underline !important;
        transition: color 0.3s ease !important;
    }

    .ja-job-apply .ja-field-container .checkbox a:hover {
        color: #E8850C !important;
    }

    /* End application form */

    /* Powered by JobAdder */

    .powered-by-jobadder {
        display: none;
        color: #a0aec0;
        font-size: 14px;
        text-align: center;
        margin: 3em 0 2em 0;
        font-family: 'Inter', sans-serif;
    }

    .powered-by-jobadder a {
        color: #718096;
        transition: color 0.3s ease;
    }

    .powered-by-jobadder a:hover {
        color: #4a5568;
    }

    /* End powered by JobAdder */

    /* Responsive Design */
    @media (max-width: 768px) {
        #ja-jobs-widget {
            padding: 16px 12px;
            max-width: 100%;
        }

        .ja-form {
            grid-template-columns: 1fr;
            padding: 20px 16px;
        }

        /* Job List Cards - Mobile */
        .ja-job-list {
            grid-template-columns: 1fr !important;
            gap: 16px;
            padding: 0 4px;
        }

        .ja-job-list .job,
        .ja-job-list .job.alt,
        .ja-job-list .job.hot {
            padding: 20px 16px;
            margin: 0;
        }

        .ja-job-list .job > * {
            padding-left: 16px;
            padding-right: 16px;
        }

        .ja-job-list .job::before {
            font-size: 10px;
            padding: 6px 16px;
            letter-spacing: 1px;
        }

        .ja-job-list .job .title,
        .ja-job-list .job .title a {
            font-size: 20px;
            line-height: 1.3;
            margin-bottom: 12px;
            padding: 0;  /* Centered title on mobile */
        }

        /* Date positioning on mobile */
        .ja-job-list .job .date,
        .ja-job-list .job .meta .date {
            font-size: 12px;
            top: 60px;
            right: 20px;
        }

        .ja-job-list .job .meta {
            font-size: 13px;
        }

        .ja-job-list .job .meta p {
            font-size: 13px;
            margin-bottom: 4px;
        }

        .ja-job-list .job .summary {
            font-size: 13px;
            line-height: 1.5;
        }

        .ja-job-list .job .view-details {
            font-size: 13px;
            padding: 10px 20px;
            margin-top: 12px;
        }

        /* Job Details - Mobile */
        .ja-job-details {
            padding: 0 !important;
            margin: 12px 4px !important;
            border-radius: 12px !important;
            border-width: 3px !important;
            max-width: 100% !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }

        .ja-job-details .title {
            font-size: 18px !important;
            padding: 16px 12px !important;
            line-height: 1.3 !important;
            border-radius: 12px 12px 0 0 !important;
            letter-spacing: 1px !important;
            word-wrap: break-word !important;
        }

        .ja-job-details > *:not(.title) {
            padding-left: 16px !important;
            padding-right: 16px !important;
        }

        .ja-job-details .meta {
            margin-top: 12px !important;
            margin-bottom: 12px !important;
            padding: 12px 0 !important;
        }

        .ja-job-details .meta p {
            font-size: 12px !important;
            margin-bottom: 6px !important;
        }

        .ja-job-details .meta .classifications {
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 6px !important;
        }

        .ja-job-details .meta .classifications li {
            font-size: 11px !important;
            padding: 5px 10px !important;
        }

        .ja-job-details .meta .date-posted,
        .ja-job-details .meta .salary,
        .ja-job-details .meta .reference {
            float: none !important;
            width: 100% !important;
            text-align: left !important;
            margin-bottom: 6px !important;
            font-size: 12px !important;
        }

        .ja-job-details .description {
            font-size: 13px !important;
            line-height: 1.6 !important;
        }

        .ja-job-details .description h3,
        .ja-job-details .description h4 {
            font-size: 16px !important;
            margin-top: 14px !important;
            margin-bottom: 10px !important;
        }

        .ja-job-details .description p {
            margin-bottom: 10px !important;
            font-size: 13px !important;
        }

        .ja-job-details .description ul {
            padding-left: 18px !important;
            margin-bottom: 10px !important;
        }

        .ja-job-details .description ul li {
            font-size: 13px !important;
            margin-bottom: 6px !important;
        }

        .ja-job-details .apply {
            margin: 16px 0 !important;
            padding: 0 !important;
        }

        .ja-job-details .apply .ja-button {
            width: 100% !important;
            max-width: 100% !important;
            padding: 12px 20px !important;
            font-size: 13px !important;
        }

        .ja-job-details .apply .back-link {
            font-size: 12px !important;
            margin-top: 12px !important;
        }

        .ja-pager-container {
            flex-direction: column;
            align-items: stretch;
        }

        .ja-pager {
            justify-content: center;
            flex-wrap: wrap;
        }

        .ja-pager-summary {
            text-align: center;
        }

        .ja-button {
            width: 100%;
            min-width: auto;
        }

        /* Application form responsive */
        .ja-job-apply,
        .ja-apply-iframe {
            padding: 0 !important;
            margin: 8px 4px !important;
            border-width: 3px !important;
            border-radius: 12px !important;
            max-width: 100% !important;
            width: calc(100% - 8px) !important;
            box-sizing: border-box !important;
        }

        .ja-job-apply > *:not(h2) {
            padding-left: 12px !important;
            padding-right: 12px !important;
        }

        .ja-job-apply h2 {
            font-size: 11px !important;
            padding: 10px 12px !important;
            letter-spacing: 0.8px !important;
            border-radius: 9px 9px 0 0 !important;
            line-height: 1.3 !important;
        }

        .ja-job-apply h3 {
            font-size: 13px !important;
            margin-top: 12px !important;
            padding-bottom: 6px !important;
            border-bottom-width: 2px !important;
        }

        /* Logo/branding area on mobile */
        .ja-job-apply .ja-branding,
        .ja-job-apply > p:first-of-type,
        .ja-job-apply > div:first-of-type {
            padding: 12px 12px 8px 12px !important;
        }

        /* Single column on mobile - FORCE IT */
        .ja-job-apply .ja-form .ja-field-container,
        .ja-job-apply .ja-form .ja-field-container:nth-child(2n),
        .ja-job-apply .ja-form .ja-field-container:nth-child(odd):nth-last-child(1),
        .ja-job-apply .ja-form .ja-field-container.full-width,
        .ja-job-apply .ja-form .ja-field-container:has(input[type="email"]),
        .ja-job-apply .ja-form .ja-field-container:has(textarea),
        .ja-job-apply .ja-form .ja-field-container:has(input[type="file"]),
        .ja-job-apply .ja-form .ja-field-container.checkbox {
            width: 100% !important;
            margin-right: 0 !important;
            margin-bottom: 10px !important;
            display: block !important;
        }

        .ja-job-apply .ja-form .ja-field-container label {
            font-size: 9px !important;
            margin-bottom: 4px !important;
        }

        .ja-job-apply .ja-form .ja-field-container input,
        .ja-job-apply .ja-form .ja-field-container select,
        .ja-job-apply .ja-form .ja-field-container textarea {
            font-size: 13px !important;
            padding: 8px !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }

        .ja-job-apply .ja-form .ja-field-container textarea {
            min-height: 50px !important;
        }

        /* Submit button on mobile */
        .ja-job-apply .ja-form .ja-button,
        .ja-job-apply .ja-button {
            width: 100% !important;
            padding: 10px 16px !important;
            font-size: 12px !important;
            margin-top: 8px !important;
        }

        /* Adjust border on mobile */
        body .ja-job-apply,
        #ja-jobs-widget .ja-job-apply {
            border-width: 3px !important;
            border-radius: 12px !important;
            margin: 8px 4px !important;
        }

        .ja-apply-iframe {
            padding: 12px !important;
            margin: 12px 4px !important;
        }

        .ja-apply-iframe iframe {
            min-height: 500px;
        }
    }

    @media (max-width: 480px) {
        #ja-jobs-widget {
            padding: 12px 8px;
        }

        /* Job List - Small Mobile */
        .ja-job-list {
            gap: 12px;
            padding: 0 2px;
        }

        .ja-job-list .job,
        .ja-job-list .job.alt,
        .ja-job-list .job.hot {
            padding: 16px 12px;
            border-radius: 12px;
        }

        .ja-job-list .job > * {
            padding-left: 12px;
            padding-right: 12px;
        }

        .ja-job-list .job::before {
            font-size: 9px;
            padding: 5px 12px;
        }

        .ja-job-list .job .title,
        .ja-job-list .job .title a {
            font-size: 18px;
            line-height: 1.3;
        }

        .ja-job-list .job .meta p {
            font-size: 12px;
        }

        .ja-job-list .job .summary {
            font-size: 12px;
        }

        .ja-job-list .job .view-details {
            font-size: 12px;
            padding: 8px 16px;
        }

        /* Job Details - Small Mobile */
        .ja-job-details {
            margin: 12px 4px;
            border-radius: 12px;
        }

        .ja-job-details .title {
            font-size: 20px;
            padding: 16px 12px;
            border-radius: 12px 12px 0 0;
        }

        .ja-job-details > *:not(.title) {
            padding-left: 16px;
            padding-right: 16px;
        }

        .ja-job-details .meta p {
            font-size: 12px;
        }

        .ja-job-details .meta .classifications li {
            font-size: 11px;
            padding: 5px 10px;
        }

        .ja-job-details .description {
            font-size: 13px;
        }

        .ja-job-details .description h3,
        .ja-job-details .description h4 {
            font-size: 16px;
        }

        .ja-job-details .apply .ja-button {
            padding: 12px 20px;
            font-size: 13px;
        }

        /* Form */
        .ja-form {
            padding: 16px 12px;
        }

        /* Pagination */
        .ja-pager span,
        .ja-pager a {
            min-width: 32px;
            height: 32px;
            padding: 0 6px;
            font-size: 12px;
        }

        .ja-pager-summary {
            font-size: 12px;
        }

        /* Application form small screens */
        .ja-job-apply,
        .ja-apply-iframe {
            padding: 0 !important;
            margin: 6px 2px !important;
            width: calc(100% - 4px) !important;
        }

        .ja-job-apply > *:not(h2) {
            padding-left: 10px !important;
            padding-right: 10px !important;
        }

        .ja-job-apply h2 {
            font-size: 10px !important;
            padding: 8px 10px !important;
            letter-spacing: 0.5px !important;
        }

        .ja-job-apply h3 {
            font-size: 12px !important;
            margin-top: 10px !important;
        }

        .ja-job-apply .ja-branding,
        .ja-job-apply > p:first-of-type,
        .ja-job-apply > div:first-of-type {
            padding: 10px 10px 6px 10px !important;
        }

        .ja-job-apply .ja-form .ja-field-container label {
            font-size: 8px !important;
        }

        .ja-job-apply .ja-form .ja-field-container input,
        .ja-job-apply .ja-form .ja-field-container select,
        .ja-job-apply .ja-form .ja-field-container textarea {
            font-size: 12px !important;
            padding: 7px !important;
        }

        .ja-job-apply .ja-form .ja-button,
        .ja-job-apply .ja-button {
            font-size: 11px !important;
            padding: 9px 14px !important;
        }

        .ja-job-apply .ja-success-text {
            padding: 16px 10px !important;
            font-size: 13px !important;
        }

        .ja-apply-iframe {
            padding: 10px !important;
        }

        .ja-job-apply .ja-form .ja-field-container label {
            font-size: 9px !important;
        }

        .ja-job-apply .ja-form .ja-field-container input,
        .ja-job-apply .ja-form .ja-field-container select,
        .ja-job-apply .ja-form .ja-field-container textarea {
            font-size: 12px !important;
            padding: 8px !important;
        }

        .ja-job-apply .ja-button {
            font-size: 13px !important;
            padding: 10px 24px !important;
        }
    }

    /* Extra Small Devices (≤375px) */
    @media (max-width: 375px) {
        #ja-jobs-widget {
            padding: 10px 6px;
        }

        .ja-job-list {
            gap: 10px;
        }

        .ja-job-list .job,
        .ja-job-list .job.alt,
        .ja-job-list .job.hot {
            padding: 14px 10px;
        }

        .ja-job-list .job .title,
        .ja-job-list .job .title a {
            font-size: 16px;
        }

        .ja-job-list .job .view-details {
            font-size: 11px;
            padding: 7px 14px;
        }

        .ja-job-details .title {
            font-size: 18px;
            padding: 14px 10px;
        }

        .ja-job-details > *:not(.title) {
            padding-left: 12px;
            padding-right: 12px;
        }

        .ja-job-apply h2 {
            font-size: 16px !important;
            padding: 10px 12px !important;
        }

        .ja-job-apply .ja-success-text {
            padding: 16px 12px !important;
            font-size: 14px !important;
        }
    }

    /* Landscape Mobile Optimization */
    @media (max-height: 500px) and (orientation: landscape) {
        .ja-job-details .title {
            font-size: 20px;
            padding: 12px 16px;
        }

        .ja-job-details .description {
            font-size: 13px;
        }

        .ja-job-apply h2 {
            font-size: 14px !important;
            padding: 10px 16px !important;
        }

        .ja-job-apply .ja-form .ja-field-container {
            margin-bottom: 10px !important;
        }
    }

    /* Animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    .ja-job-list .job {
        animation: fadeIn 0.5s ease-out;
        will-change: transform, opacity;
    }

    .ja-job-list .job:hover {
        will-change: transform;
    }

    /* Loading spinner */
    .ja-loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(66, 25, 95, 0.2);
        border-top-color: #42195f;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    /* Form submission loading state */
    .ja-button.loading {
        position: relative;
        color: transparent;
        pointer-events: none;
    }

    .ja-button.loading::after {
        content: "";
        position: absolute;
        width: 16px;
        height: 16px;
        top: 50%;
        left: 50%;
        margin-left: -8px;
        margin-top: -8px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-top-color: white;
        border-radius: 50%;
        animation: spin 0.6s linear infinite;
    }

    /* Smooth transitions for form elements */
    .ja-job-apply,
    .ja-apply-iframe {
        animation: fadeIn 0.6s ease-out;
    }

    /* Focus visible for accessibility */
    .ja-button:focus-visible,
    .ja-form input:focus-visible,
    .ja-form select:focus-visible,
    .ja-form textarea:focus-visible {
        outline: 3px solid rgba(66, 25, 95, 0.5);
        outline-offset: 2px;
    }

    /* ============================================
       MOBILE SCROLL FIX - FOR WIX EMBED
       ============================================ */

    /* AGGRESSIVE FIX: Remove all scrolling from widget */
    html {
        overflow: visible !important;
        height: auto !important;
        width: 100% !important;
    }

    body {
        overflow: visible !important;
        overflow-x: hidden !important;
        overflow-y: visible !important;
        height: auto !important;
        width: 100% !important;
        position: static !important;
        touch-action: pan-y !important;
    }

    /* Widget container - no scroll, just expand */
    #ja-jobs-widget {
        overflow: visible !important;
        overflow-y: visible !important;
        overflow-x: hidden !important;
        height: auto !important;
        max-height: none !important;
        position: static !important;
        touch-action: pan-y !important;
    }

    /* All major containers - no scroll */
    .ja-job-list,
    .ja-job-details,
    .ja-job-apply,
    .ja-apply-iframe,
    #custom-filter-container {
        overflow: visible !important;
        overflow-y: visible !important;
        overflow-x: hidden !important;
        height: auto !important;
        max-height: none !important;
        position: static !important;
        touch-action: pan-y !important;
    }

    /* Disable pointer events on potential scroll blockers */
    .ja-job-list .job,
    .ja-job-details,
    .ja-job-apply {
        pointer-events: auto !important;
        touch-action: pan-y !important;
    }

    /* Mobile specific fixes */
    @media (max-width: 768px) {
        * {
            -webkit-overflow-scrolling: auto !important;
            overflow-y: visible !important;
            max-height: none !important;
        }

        html, body {
            overflow: visible !important;
            overflow-x: hidden !important;
            height: auto !important;
            position: static !important;
            touch-action: pan-y !important;
        }

        #ja-jobs-widget,
        .ja-job-list,
        .ja-job-details,
        .ja-job-apply,
        .ja-apply-iframe {
            overflow: visible !important;
            height: auto !important;
            max-height: none !important;
            position: static !important;
            touch-action: pan-y !important;
        }

        /* Ensure iframes don't block scroll */
        iframe {
            pointer-events: auto !important;
            touch-action: pan-y !important;
        }
    }

    /* End Mobile Scroll Fix */

    /* End Responsive Design */

    /* ============================================
       BOX RECRUITMENT APPLY FORM - OVERRIDE ALL
       ============================================ */

    /* Force orange border and rounded corners on apply form container */
    body .ja-job-apply,
    #ja-jobs-widget .ja-job-apply,
    div.ja-job-apply {
        background: white !important;
        padding: 0 !important;
        margin: 40px auto !important;
        border: 5px solid #F7941D !important;
        border-radius: 25px !important;
        max-width: 900px !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15) !important;
        overflow: hidden !important;
    }

    /* Orange header bar - matching client design */
    body .ja-job-apply h2,
    #ja-jobs-widget .ja-job-apply h2 {
        background: linear-gradient(135deg, #F7941D 0%, #FF8C00 100%) !important;
        color: white !important;
        font-size: 15px !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 1.2px !important;
        text-align: center !important;
        margin: 0 !important;
        padding: 18px 30px !important;
        border-radius: 20px 20px 0 0 !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        box-shadow: 0 2px 8px rgba(247, 148, 29, 0.3) !important;
    }

    /* Content padding - not on header */
    body .ja-job-apply > *:not(h2),
    #ja-jobs-widget .ja-job-apply > *:not(h2) {
        padding-left: 30px !important;
        padding-right: 30px !important;
    }

    /* Form description/subtitle text */
    body .ja-job-apply h3,
    body .ja-job-apply p:first-of-type,
    #ja-jobs-widget .ja-job-apply h3,
    #ja-jobs-widget .ja-job-apply p:first-of-type {
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 13px !important;
        color: #333333 !important;
        text-align: center !important;
        margin: 15px 0 !important;
        font-weight: 400 !important;
    }

    /* Form container - remove default styling and allow inline-block children */
    body .ja-job-apply .ja-form,
    #ja-jobs-widget .ja-job-apply .ja-form,
    .ja-job-apply .ja-form,
    .ja-form {
        background: transparent !important;
        padding: 0 !important;
        margin: 20px 0 !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        display: block !important;
        font-size: 0 !important;
    }

    /* Reset font-size for field containers */
    body .ja-job-apply .ja-form .ja-field-container,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container,
    .ja-job-apply .ja-form .ja-field-container,
    .ja-form .ja-field-container {
        font-size: 13px !important;
    }

    /* Two-column layout for form fields - FORCE with multiple selectors */
    body .ja-job-apply .ja-form .ja-field-container,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container,
    .ja-job-apply .ja-form .ja-field-container,
    .ja-form .ja-field-container {
        display: inline-block !important;
        width: 48.5% !important;
        vertical-align: top !important;
        margin-right: 3% !important;
        margin-bottom: 15px !important;
        box-sizing: border-box !important;
        float: none !important;
        clear: none !important;
    }

    /* Every second field - no right margin */
    body .ja-job-apply .ja-form .ja-field-container:nth-child(2n),
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container:nth-child(2n),
    .ja-job-apply .ja-form .ja-field-container:nth-child(2n),
    .ja-form .ja-field-container:nth-child(2n) {
        margin-right: 0 !important;
    }

    /* Orange labels - small and uppercase */
    body .ja-job-apply .ja-form .ja-field-container label,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container label {
        color: #F7941D !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-weight: 700 !important;
        font-size: 10px !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        margin-bottom: 5px !important;
        display: block !important;
    }

    /* Input fields - thin orange borders matching client design */
    body .ja-job-apply .ja-form .ja-field-container input[type="text"],
    body .ja-job-apply .ja-form .ja-field-container input[type="email"],
    body .ja-job-apply .ja-form .ja-field-container input[type="tel"],
    body .ja-job-apply .ja-form .ja-field-container input[type="number"],
    body .ja-job-apply .ja-form .ja-field-container select,
    body .ja-job-apply .ja-form .ja-field-container textarea,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container input,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container select,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container textarea {
        border: 2px solid #F7941D !important;
        background: white !important;
        color: #333333 !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 13px !important;
        padding: 10px 12px !important;
        border-radius: 4px !important;
        width: 100% !important;
        box-sizing: border-box !important;
        transition: all 0.3s ease !important;
    }

    /* Focus state - enhanced */
    body .ja-job-apply .ja-form .ja-field-container input:focus,
    body .ja-job-apply .ja-form .ja-field-container select:focus,
    body .ja-job-apply .ja-form .ja-field-container textarea:focus {
        border-color: #E8850C !important;
        outline: none !important;
        box-shadow: 0 0 0 3px rgba(247, 148, 29, 0.15) !important;
        background: #fffbf7 !important;
    }

    /* Textarea minimum height */
    body .ja-job-apply .ja-form .ja-field-container textarea,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container textarea {
        min-height: 60px !important;
        resize: vertical !important;
    }

    /* File upload button */
    body .ja-job-apply .ja-form .ja-field-container input[type="file"],
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container input[type="file"] {
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
    }

    body .ja-job-apply .ja-form .ja-field-container input[type="file"]::file-selector-button,
    #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container input[type="file"]::file-selector-button {
        background: linear-gradient(135deg, #F7941D 0%, #FF8C00 100%) !important;
        color: white !important;
        border: none !important;
        padding: 10px 24px !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 11px !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.8px !important;
        border-radius: 4px !important;
        cursor: pointer !important;
        margin-right: 12px !important;
        box-shadow: 0 2px 6px rgba(247, 148, 29, 0.3) !important;
        transition: all 0.3s ease !important;
    }

    body .ja-job-apply .ja-form .ja-field-container input[type="file"]::file-selector-button:hover {
        background: linear-gradient(135deg, #E8850C 0%, #F7941D 100%) !important;
        box-shadow: 0 4px 10px rgba(247, 148, 29, 0.4) !important;
        transform: translateY(-1px) !important;
    }

    /* Radio buttons and checkboxes - matching client design */
    body .ja-job-apply .ja-form .ja-field-container input[type="radio"],
    body .ja-job-apply .ja-form .ja-field-container input[type="checkbox"] {
        width: 18px !important;
        height: 18px !important;
        margin-right: 10px !important;
        accent-color: #F7941D !important;
        vertical-align: middle !important;
        cursor: pointer !important;
    }

    /* Checkbox labels - not uppercase, matching client */
    body .ja-job-apply .ja-field-container.checkbox label,
    body .ja-job-apply .ja-field-container .checkbox label {
        font-size: 12px !important;
        text-transform: none !important;
        font-weight: 400 !important;
        color: #333333 !important;
        display: inline !important;
        cursor: pointer !important;
        line-height: 1.5 !important;
    }

    /* Checkbox container - full width */
    body .ja-job-apply .ja-form .ja-field-container.checkbox,
    body .ja-job-apply .ja-field-container .checkbox {
        width: 100% !important;
        margin-right: 0 !important;
        display: block !important;
        margin-top: 10px !important;
    }

    /* Privacy policy links */
    body .ja-job-apply .ja-field-container .checkbox a,
    body .ja-job-apply .ja-field-container a {
        color: #F7941D !important;
        text-decoration: underline !important;
    }

    body .ja-job-apply .ja-field-container .checkbox a:hover {
        color: #E8850C !important;
    }

    /* Submit button area */
    body .ja-job-apply .ja-submit,
    #ja-jobs-widget .ja-job-apply .ja-submit {
        display: block !important;
        text-align: center !important;
        margin-top: 20px !important;
        margin-bottom: 15px !important;
        padding: 0 !important;
        border: none !important;
    }

    /* Apply Now button - matching client design */
    body .ja-job-apply .ja-submit .ja-button,
    #ja-jobs-widget .ja-job-apply .ja-submit .ja-button {
        display: inline-block !important;
        width: auto !important;
        min-width: 150px !important;
        padding: 12px 35px !important;
        font-size: 13px !important;
        font-weight: 700 !important;
        letter-spacing: 1.2px !important;
        margin: 0 auto 15px auto !important;
        background: linear-gradient(135deg, #F7941D 0%, #FF8C00 100%) !important;
        color: white !important;
        border: none !important;
        border-radius: 5px !important;
        text-transform: uppercase !important;
        box-shadow: 0 3px 8px rgba(247, 148, 29, 0.3) !important;
        transition: all 0.3s ease !important;
        cursor: pointer !important;
    }

    body .ja-job-apply .ja-submit .ja-button:hover {
        background: linear-gradient(135deg, #E8850C 0%, #F7941D 100%) !important;
        box-shadow: 0 5px 12px rgba(247, 148, 29, 0.4) !important;
        transform: translateY(-2px) !important;
    }

    /* Back to search results link - matching client design */
    body .ja-job-apply .ja-submit .back-link,
    #ja-jobs-widget .ja-job-apply .ja-submit .back-link {
        font-size: 13px !important;
        color: #42195f !important;
        text-decoration: underline !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-weight: 600 !important;
        display: block !important;
        text-align: center !important;
        margin-top: 20px !important;
        margin-bottom: 10px !important;
        transition: all 0.3s ease !important;
    }

    body .ja-job-apply .ja-submit .back-link:hover {
        color: #F7941D !important;
        text-decoration: none !important;
    }

    body .ja-job-apply .ja-submit .back-link::before {
        content: "← " !important;
        margin-right: 5px !important;
        font-weight: 700 !important;
    }

    /* JobAdder link */
    body .ja-job-apply a[href*="jobadder"],
    #ja-jobs-widget .ja-job-apply a[href*="jobadder"] {
        display: block !important;
        text-align: center !important;
        font-size: 11px !important;
        color: #666 !important;
        text-decoration: none !important;
        margin: 15px 0 !important;
    }

    /* Success and error messages */
    body .ja-job-apply .ja-success-text,
    #ja-jobs-widget .ja-job-apply .ja-success-text,
    body .ja-job-apply .ja-success,
    #ja-jobs-widget .ja-job-apply .ja-success {
        background: #fff8f0 !important;
        border: 5px solid #F7941D !important;
        border-radius: 15px !important;
        padding: 30px 40px !important;
        margin: 30px auto !important;
        max-width: 600px !important;
        color: #000000 !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 18px !important;
        font-weight: 700 !important;
        text-align: center !important;
        box-shadow: 0 4px 15px rgba(247, 148, 29, 0.3) !important;
        line-height: 1.8 !important;
        display: block !important;
    }

    body .ja-job-apply .ja-success-text::before,
    #ja-jobs-widget .ja-job-apply .ja-success-text::before,
    body .ja-job-apply .ja-success::before,
    #ja-jobs-widget .ja-job-apply .ja-success::before {
        content: "✓ " !important;
        font-size: 32px !important;
        font-weight: bold !important;
        color: #F7941D !important;
        display: inline-block !important;
        margin-right: 10px !important;
    }

    body .ja-job-apply .ja-error-container,
    #ja-jobs-widget .ja-job-apply .ja-error-container {
        background: #fef2f2 !important;
        border: 3px solid #ef4444 !important;
        border-radius: 10px !important;
        padding: 20px 30px !important;
        margin: 20px 0 !important;
        color: #991b1b !important;
        font-family: 'Arial', 'Helvetica', sans-serif !important;
        font-size: 15px !important;
        font-weight: 600 !important;
        text-align: center !important;
        line-height: 1.6 !important;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
        body .ja-job-apply,
        #ja-jobs-widget .ja-job-apply {
            border-width: 3px !important;
            border-radius: 15px !important;
            margin: 20px auto !important;
        }

        body .ja-job-apply .ja-form .ja-field-container,
        #ja-jobs-widget .ja-job-apply .ja-form .ja-field-container {
            width: 100% !important;
            margin-right: 0 !important;
            display: block !important;
        }

        body .ja-job-apply > *:not(h2),
        #ja-jobs-widget .ja-job-apply > *:not(h2) {
            padding-left: 20px !important;
            padding-right: 20px !important;
        }

        body .ja-job-apply h2,
        #ja-jobs-widget .ja-job-apply h2 {
            font-size: 14px !important;
            padding: 12px 20px !important;
            border-radius: 12px 12px 0 0 !important;
        }

        body .ja-job-apply .ja-success-text,
        #ja-jobs-widget .ja-job-apply .ja-success-text,
        body .ja-job-apply .ja-success,
        #ja-jobs-widget .ja-job-apply .ja-success {
            padding: 20px 24px !important;
            font-size: 16px !important;
            border-width: 3px !important;
            margin: 20px 10px !important;
        }

        body .ja-job-apply .ja-success-text::before,
        #ja-jobs-widget .ja-job-apply .ja-success-text::before,
        body .ja-job-apply .ja-success::before,
        #ja-jobs-widget .ja-job-apply .ja-success::before {
            font-size: 24px !important;
        }
    }

    @media (max-width: 480px) {
        body .ja-job-apply,
        #ja-jobs-widget .ja-job-apply {
            max-width: 100% !important;
            margin: 15px 10px !important;
        }

        body .ja-job-apply h2,
        #ja-jobs-widget .ja-job-apply h2 {
            font-size: 12px !important;
            padding: 10px 15px !important;
            letter-spacing: 1px !important;
        }

        body .ja-job-apply .ja-success-text,
        #ja-jobs-widget .ja-job-apply .ja-success-text,
        body .ja-job-apply .ja-success,
        #ja-jobs-widget .ja-job-apply .ja-success {
            padding: 16px 20px !important;
            font-size: 14px !important;
        }
    }

    /* END BOX RECRUITMENT APPLY FORM OVERRIDES */

</style>

<script>
// Force Box Recruitment styling on apply form after page loads
(function() {
    'use strict';

    function applyBoxRecruitmentStyles() {
        // Find the apply form container
        const applyForm = document.querySelector('.ja-job-apply');
        if (!applyForm) {
            console.log('Box Recruitment: Apply form not found');
            return;
        }

        console.log('Box Recruitment: Applying styles to form');

        // Check viewport width for responsive styling
        const isMobile = window.innerWidth <= 768;
        const isSmallMobile = window.innerWidth <= 480;
        const isExtraSmall = window.innerWidth <= 375;

        console.log('Box Recruitment: Viewport width:', window.innerWidth, 'isMobile:', isMobile);

        // Detect sector color early for form border - CLIENT APPROVED COLORS
        const urlParams = new URLSearchParams(window.location.search);
        const sectorParam = urlParams.get('sector');
        const jobTitleElement = applyForm.querySelector('h3');
        const jobTitleText = jobTitleElement ? jobTitleElement.textContent.toLowerCase() : '';

        // Also check for category in the form
        const categoryElement = applyForm.querySelector('.ja-category, .category, [class*="category"]');
        const categoryText = categoryElement ? categoryElement.textContent.toLowerCase() : '';

        // Check sessionStorage for saved sector (from job listing click)
        const savedSector = sessionStorage.getItem('currentJobSector');

        // Check if form has sector class already applied
        const formSectorClass = applyForm.classList.contains('healthcare') ? 'healthcare' :
                               applyForm.classList.contains('leisure') ? 'leisure' :
                               applyForm.classList.contains('travel') ? 'travel' :
                               applyForm.classList.contains('business') ? 'business-solutions' :
                               applyForm.classList.contains('hospitality') ? 'hospitality' : null;

        console.log('Box Recruitment: URL sector param:', sectorParam);
        console.log('Box Recruitment: SessionStorage sector:', savedSector);
        console.log('Box Recruitment: Form class sector:', formSectorClass);
        console.log('Box Recruitment: Job title text:', jobTitleText);
        console.log('Box Recruitment: Category text:', categoryText);

        // Detect sector with priority: URL param > SessionStorage > Form class > Category > Job title
        let detectedSector = sectorParam || savedSector || formSectorClass || 'hospitality';

        // Log which method we're using
        if (sectorParam) {
            console.log('Box Recruitment: Using URL parameter:', sectorParam);
        } else if (savedSector) {
            console.log('Box Recruitment: Using saved sector from sessionStorage:', savedSector);
        } else if (formSectorClass) {
            console.log('Box Recruitment: Using form class:', formSectorClass);
        } else {
            console.log('Box Recruitment: No saved sector, will detect from category or job title');
        }

        // First try to detect from category (most reliable) - only if no saved sector
        // Using EXACT JobAdder category names provided by client
        if (!sectorParam && !savedSector && !formSectorClass && categoryText) {
            // LEISURE - Red (Sport, Activities, Grounds, Park Wardens)
            if (categoryText.includes('leisure and activities') ||
                categoryText.includes('sport and leisure') ||
                categoryText.includes('grounds and maintenance') ||
                categoryText.includes('park wardens') ||
                categoryText.includes('leisure') ||
                categoryText.includes('sport')) {
                detectedSector = 'leisure';
                console.log('Box Recruitment: Detected LEISURE from category:', categoryText);
            }

            // TRAVEL - Blue (Caravan Sales)
            else if (categoryText.includes('caravan sales') ||
                     categoryText.includes('caravan') ||
                     categoryText.includes('travel') ||
                     categoryText.includes('tourism')) {
                detectedSector = 'travel';
                console.log('Box Recruitment: Detected TRAVEL from category:', categoryText);
            }

            // BUSINESS SOLUTIONS - Green (Sales, Marketing)
            else if (categoryText.includes('sales') ||
                     categoryText.includes('marketing') ||
                     categoryText.includes('business') ||
                     categoryText.includes('solution')) {
                detectedSector = 'business-solutions';
                console.log('Box Recruitment: Detected BUSINESS SOLUTIONS from category:', categoryText);
            }

            // HOSPITALITY - Orange (Chefs, F&B, General Manager, Reception, Restaurant)
            else if (categoryText.includes('chefs') ||
                     categoryText.includes('head of food and beverage') ||
                     categoryText.includes('general manager') ||
                     categoryText.includes('reception') ||
                     categoryText.includes('restaurant') ||
                     categoryText.includes('hospitality') ||
                     categoryText.includes('hotel') ||
                     categoryText.includes('food') ||
                     categoryText.includes('beverage')) {
                detectedSector = 'hospitality';
                console.log('Box Recruitment: Detected HOSPITALITY from category:', categoryText);
            }

            // HEALTHCARE - Purple
            else if (categoryText.includes('healthcare') ||
                     categoryText.includes('health') ||
                     categoryText.includes('medical')) {
                detectedSector = 'healthcare';
                console.log('Box Recruitment: Detected HEALTHCARE from category:', categoryText);
            }
        }

        // Then try job title if category didn't match - only if no saved sector
        if (!sectorParam && !savedSector && !formSectorClass && detectedSector === 'hospitality' && !categoryText) {
            // MANUAL SECTOR MAPPING - Comprehensive job title keywords

            // HEALTHCARE - Purple
            if (jobTitleText.includes('nurse') ||
                jobTitleText.includes('healthcare') ||
                jobTitleText.includes('medical') ||
                jobTitleText.includes('care worker') ||
                jobTitleText.includes('care assistant') ||
                jobTitleText.includes('carer') ||
                jobTitleText.includes('support worker') ||
                jobTitleText.includes('health') ||
                jobTitleText.includes('clinical') ||
                jobTitleText.includes('doctor') ||
                jobTitleText.includes('therapist') ||
                jobTitleText.includes('paramedic')) {
                detectedSector = 'healthcare';
                console.log('Box Recruitment: Detected HEALTHCARE from job title');
            }

            // LEISURE - Red
            else if (jobTitleText.includes('leisure') ||
                     jobTitleText.includes('fitness') ||
                     jobTitleText.includes('gym') ||
                     jobTitleText.includes('sport') ||
                     jobTitleText.includes('coach') ||
                     jobTitleText.includes('trainer') ||
                     jobTitleText.includes('instructor') ||
                     jobTitleText.includes('lifeguard') ||
                     jobTitleText.includes('recreation')) {
                detectedSector = 'leisure';
                console.log('Box Recruitment: Detected LEISURE from job title');
            }

            // TRAVEL - Blue
            else if (jobTitleText.includes('travel') ||
                     jobTitleText.includes('tourism') ||
                     jobTitleText.includes('holiday') ||
                     jobTitleText.includes('tour') ||
                     jobTitleText.includes('flight') ||
                     jobTitleText.includes('airline') ||
                     jobTitleText.includes('cabin crew') ||
                     jobTitleText.includes('pilot')) {
                detectedSector = 'travel';
                console.log('Box Recruitment: Detected TRAVEL from job title');
            }

            // BUSINESS SOLUTIONS - Green
            else if (jobTitleText.includes('business') ||
                     jobTitleText.includes('solution') ||
                     jobTitleText.includes('consultant') ||
                     jobTitleText.includes('analyst') ||
                     jobTitleText.includes('accountant') ||
                     jobTitleText.includes('finance') ||
                     jobTitleText.includes('hr ') ||
                     jobTitleText.includes('human resources') ||
                     jobTitleText.includes('marketing') ||
                     jobTitleText.includes('sales') ||
                     jobTitleText.includes('administrator') ||
                     jobTitleText.includes('office')) {
                detectedSector = 'business-solutions';
                console.log('Box Recruitment: Detected BUSINESS SOLUTIONS from job title');
            }

            // HOSPITALITY - Orange (most common, so check last)
            else if (jobTitleText.includes('food') ||
                     jobTitleText.includes('beverage') ||
                     jobTitleText.includes('hospitality') ||
                     jobTitleText.includes('chef') ||
                     jobTitleText.includes('cook') ||
                     jobTitleText.includes('waiter') ||
                     jobTitleText.includes('waitress') ||
                     jobTitleText.includes('bartender') ||
                     jobTitleText.includes('barista') ||
                     jobTitleText.includes('hotel') ||
                     jobTitleText.includes('restaurant') ||
                     jobTitleText.includes('catering') ||
                     jobTitleText.includes('kitchen') ||
                     jobTitleText.includes('front of house') ||
                     jobTitleText.includes('sommelier') ||
                     jobTitleText.includes('manager') ||  // General Manager often in hospitality
                     jobTitleText.includes('supervisor') ||
                     jobTitleText.includes('team leader') ||
                     jobTitleText.includes('housekeeper') ||
                     jobTitleText.includes('concierge') ||
                     jobTitleText.includes('receptionist')) {
                detectedSector = 'hospitality';
                console.log('Box Recruitment: Detected HOSPITALITY from job title');
            }

            else {
                // Default to hospitality if no match
                detectedSector = 'hospitality';
                console.log('Box Recruitment: No keyword match, defaulting to HOSPITALITY');
            }
        } else if (sectorParam) {
            console.log('Box Recruitment: Using sector from URL parameter:', sectorParam);
        }

        // CLIENT APPROVED SECTOR COLORS (from :root CSS variables)
        const sectorColors = {
            healthcare: { primary: '#542B74', secondary: '#6a3a94', dark: '#3d1f54' },
            hospitality: { primary: '#F39200', secondary: '#d47f00', dark: '#c47000' },
            leisure: { primary: '#E30613', secondary: '#b3050f', dark: '#8a040c' },
            travel: { primary: '#0071BC', secondary: '#005a96', dark: '#004470' },
            'business-solutions': { primary: '#70BF1F', secondary: '#5a9918', dark: '#447312' }
        };

        const formColors = sectorColors[detectedSector] || sectorColors.hospitality;

        console.log('Box Recruitment: FINAL - Detected sector:', detectedSector, 'Color:', formColors.primary);

        // Apply container styles (responsive) with sector color
        const borderWidth = isMobile ? '3px' : '5px';
        const borderRadius = isMobile ? '15px' : '25px';
        const margin = isSmallMobile ? '12px 4px' : (isMobile ? '20px auto' : '40px auto');

        applyForm.style.cssText = `
            background: white !important;
            padding: 0 !important;
            margin: ${margin} !important;
            border: ${borderWidth} solid ${formColors.primary} !important;
            border-radius: ${borderRadius} !important;
            max-width: ${isMobile ? '100%' : '900px'} !important;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15) !important;
            overflow: hidden !important;
        `;

        // Apply header styles (responsive) with sector color
        const header = applyForm.querySelector('h2');
        if (header) {
            const headerFontSize = isExtraSmall ? '16px' : (isSmallMobile ? '18px' : (isMobile ? '14px' : '16px'));
            const headerPadding = isSmallMobile ? '10px 12px' : (isMobile ? '12px 20px' : '15px 30px');
            const headerRadius = isMobile ? (borderRadius.replace('px', '') - 3) + 'px 0 0' : '20px 20px 0 0';

            header.style.cssText = `
                background: linear-gradient(135deg, ${formColors.primary} 0%, ${formColors.secondary} 100%) !important;
                color: white !important;
                font-size: ${headerFontSize} !important;
                font-weight: 700 !important;
                text-transform: uppercase !important;
                letter-spacing: ${isMobile ? '1px' : '1.2px'} !important;
                text-align: center !important;
                margin: 0 !important;
                padding: ${headerPadding} !important;
                border-radius: ${headerRadius} !important;
                font-family: Arial, Helvetica, sans-serif !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
            `;
        }

        // Add Box Hospitality logo and instruction section after header (if not already added)
        if (!applyForm.querySelector('.box-hospitality-logo')) {
            const logoSection = document.createElement('div');
            logoSection.className = 'box-hospitality-logo';
            logoSection.style.cssText = `
                text-align: center !important;
                padding: 25px 20px !important;
                background: white !important;
            `;

            // Use the same sector detection and colors from above
            const colors = formColors;

            logoSection.innerHTML = `
                <!-- Logo with 3D Box - BIGGER SIZE - CENTERED -->
                <div style="display: flex; justify-content: center; margin-bottom: 25px;">
                    <div style="display: inline-flex; align-items: center; gap: 12px;">
                        <svg style="width: 70px; height: 70px;" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                            <!-- 3D Box - Larger -->
                            <g transform="translate(40, 40)">
                                <!-- Front face -->
                                <polygon points="0,-20 18,0 0,20 -18,0" fill="${colors.primary}" stroke="${colors.dark}" stroke-width="1.5"/>
                                <!-- Top face -->
                                <polygon points="0,-20 18,0 18,-11 0,-31" fill="${colors.secondary}" stroke="${colors.dark}" stroke-width="1.5"/>
                                <!-- Right face -->
                                <polygon points="18,0 18,-11 0,-31 0,-20" fill="${colors.secondary}" stroke="${colors.dark}" stroke-width="1.5"/>
                            </g>
                        </svg>
                        <div style="text-align: left; line-height: 1.1;">
                            <div style="font-size: 36px; font-weight: 700; font-family: Arial, Helvetica, sans-serif; letter-spacing: -0.5px;">
                                <span style="color: #2C3E50;">BOX</span><span style="color: ${colors.primary};">HOSPITALITY</span>
                            </div>
                            <div style="font-size: 13px; font-weight: 600; font-family: Arial, Helvetica, sans-serif; color: #2C3E50; letter-spacing: 4px; margin-top: 2px;">
                                RECRUITMENT
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Title and Instruction - CENTERED -->
                <div style="margin-bottom: 25px; text-align: center;">
                    <div class="job-position-title" style="font-size: 17px; font-weight: 700; font-family: Arial, Helvetica, sans-serif; color: #000; margin-bottom: 10px; line-height: 1.3;">
                        Food and Beverage Operations Manager
                    </div>
                    <div style="font-size: 14px; font-family: Arial, Helvetica, sans-serif; color: #000; margin-bottom: 20px; line-height: 1.4;">
                        Please complete the form below to apply for this position
                    </div>
                </div>

                <!-- Upload CV or Apply Later Buttons - CENTERED -->
                <div style="display: flex; gap: 12px; justify-content: center; align-items: center; flex-wrap: wrap; margin-bottom: 25px;">
                    <button type="button" class="upload-cv-btn sector-button" style="
                        background: ${colors.primary};
                        color: white;
                        border: none;
                        padding: 11px 28px;
                        font-size: 12px;
                        font-weight: 700;
                        letter-spacing: 1px;
                        text-transform: uppercase;
                        border-radius: 3px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: Arial, Helvetica, sans-serif;
                    ">UPLOAD CV</button>
                    <span style="font-size: 15px; font-weight: 600; color: #000; font-family: Arial, Helvetica, sans-serif;">or</span>
                    <button type="button" class="apply-later-btn sector-button" style="
                        background: ${colors.primary};
                        color: white;
                        border: none;
                        padding: 11px 28px;
                        font-size: 12px;
                        font-weight: 700;
                        letter-spacing: 1px;
                        text-transform: uppercase;
                        border-radius: 3px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: Arial, Helvetica, sans-serif;
                    ">APPLY LATER</button>
                </div>
            `;

            // Store colors for later use
            applyForm.setAttribute('data-sector-color', colors.primary);
            applyForm.setAttribute('data-sector-secondary', colors.secondary);

            // Insert after header
            if (header && header.nextSibling) {
                applyForm.insertBefore(logoSection, header.nextSibling);
            } else if (header) {
                applyForm.appendChild(logoSection);
            }

            // Update job title dynamically
            const jobH3Element = applyForm.querySelector('h3');
            if (jobH3Element) {
                const jobText = jobH3Element.textContent || 'Position';
                const positionTitle = logoSection.querySelector('.job-position-title');
                if (positionTitle) {
                    positionTitle.textContent = jobText;
                }
                // Hide the original h3
                jobH3Element.style.display = 'none';
            }

            // Add button functionality
            const uploadBtn = logoSection.querySelector('.upload-cv-btn');
            const applyLaterBtn = logoSection.querySelector('.apply-later-btn');

            if (uploadBtn) {
                uploadBtn.addEventListener('click', function() {
                    const fileInput = applyForm.querySelector('input[type="file"]');
                    if (fileInput) {
                        fileInput.click();
                    }
                });

                uploadBtn.addEventListener('mouseenter', function() {
                    this.style.background = colors.secondary;
                });
                uploadBtn.addEventListener('mouseleave', function() {
                    this.style.background = colors.primary;
                });
            }

            if (applyLaterBtn) {
                applyLaterBtn.addEventListener('click', function() {
                    const formData = {};
                    const inputs = applyForm.querySelectorAll('input, textarea, select');
                    inputs.forEach(input => {
                        if (input.name && input.value) {
                            formData[input.name] = input.value;
                        }
                    });
                    localStorage.setItem('boxHospitalityFormData', JSON.stringify(formData));
                    alert('Your progress has been saved! You can come back later to complete your application.');
                });

                applyLaterBtn.addEventListener('mouseenter', function() {
                    this.style.background = colors.secondary;
                });
                applyLaterBtn.addEventListener('mouseleave', function() {
                    this.style.background = colors.primary;
                });
            }
        }

        // Apply padding to all children except header and logo (responsive)
        const childPadding = isSmallMobile ? '16px' : (isMobile ? '20px' : '30px');
        const children = applyForm.children;
        for (let child of children) {
            if (child.tagName !== 'H2' && !child.classList.contains('box-hospitality-logo')) {
                child.style.paddingLeft = childPadding;
                child.style.paddingRight = childPadding;
            }
        }

        // Style job title (h3 element)
        const jobTitle = applyForm.querySelector('h3');
        if (jobTitle) {
            jobTitle.style.cssText = `
                font-family: Arial, Helvetica, sans-serif !important;
                font-size: 18px !important;
                font-weight: 700 !important;
                color: #000000 !important;
                text-align: center !important;
                margin: 15px 0 !important;
                padding: 12px 20px !important;
                background: white !important;
            `;
        }

        // Find and style the form
        const form = applyForm.querySelector('.ja-form');
        if (form) {
            console.log('Box Recruitment: Styling form element');
            form.style.cssText = `
                background: white !important;
                padding: 0 !important;
                margin: 20px 0 !important;
                border-radius: 0 !important;
                box-shadow: none !important;
                display: block !important;
                font-size: 0 !important;
            `;

            // Also style the form's direct children to reset font-size
            const formChildren = form.children;
            for (let child of formChildren) {
                if (child.classList.contains('ja-field-container')) {
                    child.style.fontSize = '13px';
                }
            }

            // Style all field containers
            const fieldContainers = form.querySelectorAll('.ja-field-container');
            console.log('Box Recruitment: Found', fieldContainers.length, 'field containers');

            fieldContainers.forEach((container, index) => {
                // Check if this should be full width (checkbox, email, textarea, file)
                const hasEmail = container.querySelector('input[type="email"]');
                const hasTextarea = container.querySelector('textarea');
                const hasFile = container.querySelector('input[type="file"]');
                const isCheckbox = container.classList.contains('checkbox') || container.querySelector('.checkbox');
                const label = container.querySelector('label');
                const labelText = label ? label.textContent.toLowerCase() : '';

                // Full width for specific fields
                const isFullWidth = hasEmail || hasTextarea || hasFile || isCheckbox ||
                                   labelText.includes('cover') || labelText.includes('resume') ||
                                   labelText.includes('letter');

                console.log('Field', index, ':', labelText, '- Full width:', isFullWidth);

                if (isFullWidth || isMobile) {
                    container.style.setProperty('display', 'block', 'important');
                    container.style.setProperty('width', '100%', 'important');
                    container.style.setProperty('vertical-align', 'top', 'important');
                    container.style.setProperty('margin-right', '0', 'important');
                    container.style.setProperty('margin-bottom', '15px', 'important');
                    container.style.setProperty('box-sizing', 'border-box', 'important');
                    container.style.setProperty('float', 'none', 'important');
                } else {
                    // Two-column layout for desktop
                    const isEven = (index + 1) % 2 === 0;
                    console.log('Applying two-column to field', index, '- isEven:', isEven);
                    container.style.setProperty('display', 'inline-block', 'important');
                    container.style.setProperty('width', '48.5%', 'important');
                    container.style.setProperty('vertical-align', 'top', 'important');
                    container.style.setProperty('margin-right', isEven ? '0' : '3%', 'important');
                    container.style.setProperty('margin-bottom', '15px', 'important');
                    container.style.setProperty('box-sizing', 'border-box', 'important');
                    container.style.setProperty('float', 'none', 'important');
                }

                // Style labels - matching client design (black, uppercase, bold)
                if (label && !isCheckbox) {
                    label.style.cssText = `
                        color: #000000 !important;
                        font-family: Arial, Helvetica, sans-serif !important;
                        font-weight: 700 !important;
                        font-size: 11px !important;
                        text-transform: uppercase !important;
                        letter-spacing: 0.3px !important;
                        margin-bottom: 6px !important;
                        display: block !important;
                    `;
                }

                // Get sector color from form (needed for phone field styling)
                const sectorColor = applyForm.getAttribute('data-sector-color') || '#F7941D';
                const sectorSecondary = applyForm.getAttribute('data-sector-secondary') || '#E67E22';

                // Add country code dropdown for phone/mobile fields
                const isPhoneField = labelText.includes('phone') || labelText.includes('mobile');
                if (isPhoneField && !container.querySelector('.country-code-select')) {
                    const phoneInput = container.querySelector('input[type="tel"], input[type="text"]');
                    if (phoneInput) {
                        // Create wrapper for country code + input
                        const wrapper = document.createElement('div');
                        wrapper.style.cssText = `
                            display: flex !important;
                            align-items: stretch !important;
                            gap: 0px !important;
                            width: 100% !important;
                        `;

                        // Create country code dropdown
                        const countrySelect = document.createElement('select');
                        countrySelect.className = 'country-code-select';
                        countrySelect.innerHTML = `
                            <option value="+44" data-country="GB">🇬🇧 +44</option>
                            <option value="+1" data-country="US">🇺🇸 +1</option>
                            <option value="+91" data-country="IN">🇮🇳 +91</option>
                            <option value="+61" data-country="AU">🇦🇺 +61</option>
                            <option value="+971" data-country="AE">🇦🇪 +971</option>
                            <option value="+27" data-country="ZA">🇿🇦 +27</option>
                            <option value="+353" data-country="IE">🇮🇪 +353</option>
                            <option value="+33" data-country="FR">🇫🇷 +33</option>
                            <option value="+49" data-country="DE">🇩🇪 +49</option>
                            <option value="+34" data-country="ES">🇪🇸 +34</option>
                            <option value="+39" data-country="IT">🇮🇹 +39</option>
                            <option value="+31" data-country="NL">🇳🇱 +31</option>
                            <option value="+351" data-country="PT">🇵🇹 +351</option>
                            <option value="+48" data-country="PL">🇵🇱 +48</option>
                            <option value="+86" data-country="CN">🇨🇳 +86</option>
                            <option value="+81" data-country="JP">🇯🇵 +81</option>
                            <option value="+82" data-country="KR">🇰🇷 +82</option>
                        `;
                        // Use setProperty with 'important' to override CSS
                        countrySelect.style.setProperty('border', `2px solid ${sectorColor}`, 'important');
                        countrySelect.style.setProperty('background', 'white', 'important');
                        countrySelect.style.setProperty('color', '#000000', 'important');
                        countrySelect.style.setProperty('font-family', 'Arial, Helvetica, sans-serif', 'important');
                        countrySelect.style.setProperty('font-size', '13px', 'important');
                        countrySelect.style.setProperty('padding', '8px 5px', 'important');
                        countrySelect.style.setProperty('border-radius', '0px', 'important');
                        countrySelect.style.setProperty('border-right', 'none', 'important');
                        countrySelect.style.setProperty('width', '100px', 'important');
                        countrySelect.style.setProperty('min-width', '100px', 'important');
                        countrySelect.style.setProperty('max-width', '100px', 'important');
                        countrySelect.style.setProperty('flex', '0 0 100px', 'important');
                        countrySelect.style.setProperty('cursor', 'pointer', 'important');
                        countrySelect.style.setProperty('transition', 'all 0.3s ease', 'important');

                        // Update phone input styling to connect with dropdown
                        phoneInput.style.setProperty('border-left', 'none', 'important');
                        phoneInput.style.setProperty('flex', '1', 'important');
                        phoneInput.style.setProperty('width', 'auto', 'important');

                        // Insert wrapper before input
                        phoneInput.parentNode.insertBefore(wrapper, phoneInput);
                        wrapper.appendChild(countrySelect);
                        wrapper.appendChild(phoneInput);

                        // Add focus effects
                        countrySelect.addEventListener('focus', function() {
                            this.style.setProperty('border-color', sectorSecondary, 'important');
                        });
                        countrySelect.addEventListener('blur', function() {
                            this.style.setProperty('border-color', sectorColor, 'important');
                        });
                    }
                }

                // Style inputs - matching client design exactly (2px sector color borders, no radius)
                const inputs = container.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], input[type="number"], select, textarea');
                inputs.forEach(input => {
                    // Use setProperty with 'important' to override CSS
                    input.style.setProperty('border', `2px solid ${sectorColor}`, 'important');
                    input.style.setProperty('background', 'white', 'important');
                    input.style.setProperty('color', '#000000', 'important');
                    input.style.setProperty('font-family', 'Arial, Helvetica, sans-serif', 'important');
                    input.style.setProperty('font-size', '13px', 'important');
                    input.style.setProperty('padding', '8px 10px', 'important');
                    input.style.setProperty('border-radius', '0px', 'important');
                    input.style.setProperty('width', '100%', 'important');
                    input.style.setProperty('box-sizing', 'border-box', 'important');
                    input.style.setProperty('transition', 'all 0.3s ease', 'important');

                    // Add focus effect
                    input.addEventListener('focus', function() {
                        this.style.setProperty('border-color', sectorSecondary, 'important');
                        this.style.setProperty('outline', 'none', 'important');
                    });
                    input.addEventListener('blur', function() {
                        this.style.setProperty('border-color', sectorColor, 'important');
                    });
                });

                // Style textarea
                const textarea = container.querySelector('textarea');
                if (textarea) {
                    textarea.style.minHeight = '60px';
                    textarea.style.resize = 'vertical';
                }

                // Style file input - create custom button with sector color
                const fileInput = container.querySelector('input[type="file"]');
                if (fileInput) {
                    // Hide the default file input
                    fileInput.style.cssText = `
                        position: absolute !important;
                        opacity: 0 !important;
                        width: 0 !important;
                        height: 0 !important;
                    `;

                    // Create custom button
                    if (!container.querySelector('.custom-file-button')) {
                        const customButton = document.createElement('button');
                        customButton.type = 'button';
                        customButton.className = 'custom-file-button';
                        customButton.textContent = 'CHOOSE FILE';
                        // Use setProperty with 'important' to override CSS
                        customButton.style.setProperty('background', sectorColor, 'important');
                        customButton.style.setProperty('color', 'white', 'important');
                        customButton.style.setProperty('border', 'none', 'important');
                        customButton.style.setProperty('padding', '10px 25px', 'important');
                        customButton.style.setProperty('font-size', '12px', 'important');
                        customButton.style.setProperty('font-weight', '700', 'important');
                        customButton.style.setProperty('letter-spacing', '1px', 'important');
                        customButton.style.setProperty('text-transform', 'uppercase', 'important');
                        customButton.style.setProperty('border-radius', '3px', 'important');
                        customButton.style.setProperty('cursor', 'pointer', 'important');
                        customButton.style.setProperty('transition', 'all 0.3s ease', 'important');
                        customButton.style.setProperty('font-family', 'Arial, Helvetica, sans-serif', 'important');
                        customButton.style.setProperty('margin-right', '10px', 'important');

                        // Add file name display
                        const fileNameDisplay = document.createElement('span');
                        fileNameDisplay.className = 'file-name-display';
                        fileNameDisplay.textContent = 'No File Chosen';
                        fileNameDisplay.style.cssText = `
                            font-size: 12px !important;
                            color: #666 !important;
                            font-family: Arial, Helvetica, sans-serif !important;
                        `;

                        // Insert after file input
                        fileInput.parentNode.insertBefore(customButton, fileInput.nextSibling);
                        customButton.parentNode.insertBefore(fileNameDisplay, customButton.nextSibling);

                        // Button click triggers file input
                        customButton.addEventListener('click', function() {
                            fileInput.click();
                        });

                        // Update file name display when file is selected
                        fileInput.addEventListener('change', function() {
                            if (this.files && this.files.length > 0) {
                                fileNameDisplay.textContent = this.files[0].name;
                            } else {
                                fileNameDisplay.textContent = 'No File Chosen';
                            }
                        });

                        // Hover effect with sector color
                        customButton.addEventListener('mouseenter', function() {
                            this.style.setProperty('background', sectorSecondary, 'important');
                        });
                        customButton.addEventListener('mouseleave', function() {
                            this.style.setProperty('background', sectorColor, 'important');
                        });
                    }
                }

                // Style checkboxes and radios with sector color
                const checkboxes = container.querySelectorAll('input[type="checkbox"], input[type="radio"]');
                checkboxes.forEach(cb => {
                    cb.style.setProperty('width', 'auto', 'important');
                    cb.style.setProperty('margin-right', '8px', 'important');
                    cb.style.setProperty('accent-color', sectorColor, 'important');
                    cb.style.setProperty('vertical-align', 'middle', 'important');
                });

                // Style checkbox labels differently
                if (isCheckbox) {
                    const checkboxLabel = container.querySelector('label');
                    if (checkboxLabel) {
                        checkboxLabel.style.cssText = `
                            font-size: 12px !important;
                            text-transform: none !important;
                            font-weight: 400 !important;
                            color: #000000 !important;
                            display: inline !important;
                        `;
                    }
                }
            });
        }

        // Style submit area
        const submitArea = applyForm.querySelector('.ja-submit');
        if (submitArea) {
            // Get sector color
            const submitSectorColor = applyForm.getAttribute('data-sector-color') || '#F7941D';
            const submitSectorSecondary = applyForm.getAttribute('data-sector-secondary') || '#E67E22';

            submitArea.style.cssText = `
                display: block !important;
                text-align: center !important;
                margin-top: 20px !important;
                margin-bottom: 15px !important;
                padding: 0 !important;
                border: none !important;
            `;

            // Style the button - matching client design exactly with sector color
            const button = submitArea.querySelector('.ja-button, button[type="submit"], input[type="submit"]');
            if (button) {
                // Change button text to "APPLY NOW" (preserve button type)
                if (button.tagName === 'BUTTON' || button.tagName === 'INPUT') {
                    if (button.tagName === 'INPUT') {
                        button.value = 'APPLY NOW';
                    } else {
                        button.innerHTML = 'APPLY NOW';
                    }
                }

                button.style.cssText = `
                    display: inline-block !important;
                    width: auto !important;
                    min-width: 150px !important;
                    padding: 10px 30px !important;
                    font-size: 12px !important;
                    font-weight: 700 !important;
                    letter-spacing: 1px !important;
                    margin: 20px auto 15px auto !important;
                    background: ${submitSectorColor} !important;
                    color: white !important;
                    border: none !important;
                    border-radius: 3px !important;
                    text-transform: uppercase !important;
                    transition: all 0.3s ease !important;
                    cursor: pointer !important;
                    font-family: Arial, Helvetica, sans-serif !important;
                `;

                // Add hover effect with sector color (don't interfere with click)
                button.addEventListener('mouseenter', function(e) {
                    this.style.background = submitSectorSecondary;
                }, false);
                button.addEventListener('mouseleave', function(e) {
                    this.style.background = submitSectorColor;
                }, false);
            }

            // Style back link - matching client design
            const backLink = submitArea.querySelector('.back-link');
            if (backLink) {
                backLink.style.cssText = `
                    font-size: 13px !important;
                    color: #42195f !important;
                    text-decoration: underline !important;
                    font-family: Arial, Helvetica, sans-serif !important;
                    font-weight: 600 !important;
                    display: block !important;
                    text-align: center !important;
                    margin-top: 20px !important;
                    margin-bottom: 10px !important;
                    transition: all 0.3s ease !important;
                `;
            }
        }

        // Style success message
        const successMessages = applyForm.querySelectorAll('.ja-success-text, .ja-success');
        successMessages.forEach(success => {
            success.style.cssText = `
                background: #fff8f0 !important;
                border: 5px solid #F7941D !important;
                border-radius: 15px !important;
                padding: 30px 40px !important;
                margin: 30px auto !important;
                max-width: 600px !important;
                color: #000000 !important;
                font-family: Arial, Helvetica, sans-serif !important;
                font-size: 18px !important;
                font-weight: 700 !important;
                text-align: center !important;
                box-shadow: 0 4px 15px rgba(247, 148, 29, 0.3) !important;
                line-height: 1.8 !important;
                display: block !important;
            `;
        });

        // Hide error messages initially - only show when there's an actual error
        const errorMessages = applyForm.querySelectorAll('.ja-error-container, .ja-error, .ja-field-error');
        errorMessages.forEach(error => {
            // Check if error has content
            const hasContent = error.textContent && error.textContent.trim().length > 0;

            error.style.cssText = `
                background: #fef2f2 !important;
                border: 3px solid #ef4444 !important;
                border-radius: 10px !important;
                padding: 20px 30px !important;
                margin: 20px auto !important;
                max-width: 600px !important;
                color: #991b1b !important;
                font-family: Arial, Helvetica, sans-serif !important;
                font-size: 15px !important;
                font-weight: 600 !important;
                text-align: center !important;
                line-height: 1.6 !important;
                display: ${hasContent ? 'block' : 'none'} !important;
            `;
        });

        // Hide all field-level error messages initially
        const fieldErrors = applyForm.querySelectorAll('.ja-field-error, .error-message, [class*="error"]');
        fieldErrors.forEach(error => {
            const hasContent = error.textContent && error.textContent.trim().length > 0;
            if (!hasContent) {
                error.style.display = 'none !important';
            }
        });
    }

    // Run when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyBoxRecruitmentStyles);
    } else {
        applyBoxRecruitmentStyles();
    }

    // Also run after a short delay to catch dynamically loaded content
    setTimeout(applyBoxRecruitmentStyles, 500);
    setTimeout(applyBoxRecruitmentStyles, 1000);
    setTimeout(applyBoxRecruitmentStyles, 2000);

    // Watch for changes in the apply form (for success/error messages that appear after submission)
    let lastJobTitle = '';
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length) {
                applyBoxRecruitmentStyles();
            }

            // Watch for job title changes to re-apply sector colors
            if (mutation.type === 'characterData' || mutation.type === 'childList') {
                const applyForm = document.querySelector('.ja-job-apply');
                if (applyForm) {
                    const h3 = applyForm.querySelector('h3');
                    if (h3) {
                        const currentTitle = h3.textContent.trim();
                        if (currentTitle && currentTitle !== lastJobTitle && currentTitle !== 'undefined') {
                            console.log('Box Recruitment: Job title changed from "' + lastJobTitle + '" to "' + currentTitle + '", re-applying styles');
                            lastJobTitle = currentTitle;
                            applyBoxRecruitmentStyles();
                        }
                    }
                }
            }

            // Also check for text changes in error elements
            if (mutation.type === 'characterData' || mutation.type === 'childList') {
                const target = mutation.target;
                if (target.classList && (target.classList.contains('ja-error') ||
                    target.classList.contains('ja-field-error') ||
                    target.className.includes('error'))) {
                    const hasContent = target.textContent && target.textContent.trim().length > 0;
                    target.style.display = hasContent ? 'block' : 'none';
                }
            }
        });
    });

    // Start observing the widget container
    const widgetContainer = document.getElementById('ja-jobs-widget');
    if (widgetContainer) {
        observer.observe(widgetContainer, {
            childList: true,
            subtree: true,
            characterData: true
        });
    }

})();

// ============================================
// SECTOR DETECTION AND COLOR APPLICATION
// ============================================
(function() {
    'use strict';

    console.log('🚀 Box Recruitment: VERSION 3.0.0 - Sector Detection Script Loaded');
    console.log('🔧 Box Recruitment: Fixed - Always detect sector from job details content');

    // Keyword-based sector detection - UPDATED with client's JobAdder categories
    const sectorKeywords = {
        healthcare: [
            'nurse', 'nursing', 'healthcare', 'health care', 'medical', 'doctor', 'physician',
            'surgeon', 'therapist', 'physiotherapist', 'occupational therapist', 'paramedic',
            'care worker', 'care assistant', 'support worker', 'aged care', 'disability',
            'mental health', 'clinical', 'hospital', 'gp', 'practitioner', 'pharmacist',
            'dentist', 'dental', 'radiographer', 'sonographer', 'midwife', 'health',
            'carer', 'healthcare assistant', 'nursing home', 'residential care'
        ],
        hospitality: [
            // Client categories: Chefs, Head of Food and Beverage, General Manager, Reception, Restaurant
            'chef', 'chefs', 'cook', 'kitchen', 'restaurant', 'cafe', 'bar', 'barista', 'waiter',
            'waitress', 'server', 'hospitality', 'hotel', 'front desk', 'reception', 'receptionist',
            'concierge', 'housekeeping', 'food', 'beverage', 'f&b', 'sommelier', 'bartender',
            'catering', 'banquet', 'venue', 'dining', 'culinary', 'pastry', 'housekeeper',
            'cleaner', 'room attendant', 'porter', 'valet', 'host', 'hostess', 'maitre d',
            'commis', 'sous chef', 'head chef', 'kitchen porter', 'dishwasher', 'pub',
            'inn', 'lodge', 'motel', 'bed and breakfast', 'b&b', 'general manager',
            'head of food and beverage', 'food and beverage'
        ],
        leisure: [
            // Client categories: Leisure and Activities, Sport and Leisure, Grounds and Maintenance, Park Wardens
            'leisure', 'leisure and activities', 'sport and leisure', 'recreation', 'fitness', 'gym',
            'personal trainer', 'coach', 'sports', 'sport', 'athletic', 'lifeguard', 'pool', 'aquatic',
            'instructor', 'activity', 'activities', 'entertainment', 'event', 'coordinator', 'facility', 'club',
            'wellness', 'spa', 'massage', 'yoga', 'pilates', 'grounds', 'grounds and maintenance',
            'groundskeeper', 'maintenance', 'greenkeeper', 'gardener', 'landscaper',
            'park', 'park wardens', 'warden', 'playground', 'outdoor', 'adventure', 'climbing', 'skiing',
            'golf', 'tennis', 'swimming', 'sport centre', 'leisure centre', 'arena'
        ],
        travel: [
            // Client categories: Caravan Sales, Caravan Sales Managers
            'caravan', 'caravan sales', 'caravan sales manager', 'travel', 'tourism', 'tour',
            'guide', 'booking', 'reservation', 'airline', 'flight', 'airport', 'cruise', 'resort',
            'destination', 'itinerary', 'visa', 'passport', 'ticketing', 'adventure',
            'holiday', 'vacation', 'excursion', 'travel agent',
            'tour operator', 'travel consultant', 'reservations', 'tourist', 'sightseeing'
        ],
        business: [
            // Client categories: Sales, Marketing (but NOT General Manager - that's Hospitality)
            'business', 'office', 'administration', 'admin', 'executive',
            'director', 'coordinator', 'assistant', 'secretary',
            'accountant', 'finance', 'hr', 'human resources', 'marketing', 'sales',
            'consultant', 'analyst', 'developer', 'engineer', 'it', 'support',
            'customer service', 'operations', 'logistics', 'supply chain', 'project',
            'business development', 'account manager', 'sales manager',
            'operations manager', 'office manager', 'administrator', 'pa', 'personal assistant',
            'team leader', 'supervisor', 'head of', 'chief', 'ceo', 'cfo', 'coo',
            'commercial', 'corporate', 'procurement', 'purchasing', 'buyer', 'planner'
        ]
    };

    // Function to detect sector from job element using keywords
    function detectSector(element) {
        // Get all text content from the job element
        let textContent = '';

        // Check data-category attribute first
        if (element.hasAttribute('data-category')) {
            textContent += element.getAttribute('data-category') + ' ';
        }

        // Get title
        const titleEl = element.querySelector('.title, .title a, h2, h3');
        if (titleEl) {
            textContent += titleEl.textContent + ' ';
        }

        // Get meta information
        const metaEl = element.querySelector('.meta');
        if (metaEl) {
            textContent += metaEl.textContent + ' ';
        }

        // Get summary/description
        const summaryEl = element.querySelector('.summary, .description');
        if (summaryEl) {
            textContent += summaryEl.textContent + ' ';
        }

        // Convert to lowercase for case-insensitive matching
        textContent = textContent.toLowerCase();

        // HIGH PRIORITY: Check for specific sector keywords first
        const highPriorityTravelKeywords = ['caravan', 'caravan sales', 'travel agent', 'tour operator', 'cruise', 'airline'];
        for (let keyword of highPriorityTravelKeywords) {
            if (textContent.includes(keyword)) {
                console.log('Box Recruitment: HIGH PRIORITY TRAVEL keyword found:', keyword);
                return 'travel';
            }
        }

        // HIGH PRIORITY: Check for hospitality keywords (to prevent confusion with business)
        const highPriorityHospitalityKeywords = ['chef', 'chefs', 'cook', 'kitchen', 'restaurant', 'hotel', 'hospitality', 'food and beverage', 'f&b', 'head chef', 'sous chef', 'general manager'];
        for (let keyword of highPriorityHospitalityKeywords) {
            if (textContent.includes(keyword)) {
                console.log('Box Recruitment: HIGH PRIORITY HOSPITALITY keyword found:', keyword);
                return 'hospitality';
            }
        }

        // HIGH PRIORITY: Check for leisure keywords
        const highPriorityLeisureKeywords = ['leisure', 'sport and leisure', 'grounds and maintenance', 'park wardens', 'groundskeeper', 'greenkeeper'];
        for (let keyword of highPriorityLeisureKeywords) {
            if (textContent.includes(keyword)) {
                console.log('Box Recruitment: HIGH PRIORITY LEISURE keyword found:', keyword);
                return 'leisure';
            }
        }

        // HIGH PRIORITY: Check for healthcare keywords
        const highPriorityHealthcareKeywords = ['nurse', 'nursing', 'healthcare', 'health care', 'medical', 'doctor', 'hospital', 'clinical'];
        for (let keyword of highPriorityHealthcareKeywords) {
            if (textContent.includes(keyword)) {
                console.log('Box Recruitment: HIGH PRIORITY HEALTHCARE keyword found:', keyword);
                return 'healthcare';
            }
        }

        // Score each sector based on keyword matches
        const scores = {
            healthcare: 0,
            hospitality: 0,
            leisure: 0,
            travel: 0,
            business: 0
        };

        // Count keyword matches for each sector
        for (let sector in sectorKeywords) {
            sectorKeywords[sector].forEach(keyword => {
                if (textContent.includes(keyword.toLowerCase())) {
                    scores[sector]++;
                }
            });
        }

        console.log('Box Recruitment: Sector detection scores:', scores);
        console.log('Box Recruitment: Text content (first 200 chars):', textContent.substring(0, 200));

        // Find the sector with the highest score
        let maxScore = 0;
        let detectedSector = null;

        for (let sector in scores) {
            if (scores[sector] > maxScore) {
                maxScore = scores[sector];
                detectedSector = sector;
            }
        }

        console.log('Box Recruitment: Detected sector:', detectedSector, 'with score:', maxScore);

        // Only return a sector if we have at least one keyword match
        return maxScore > 0 ? detectedSector : null;
    }

    // Function to apply sector class to job cards
    function applySectorToJobCards() {
        const jobCards = document.querySelectorAll('.ja-job-list .job');

        // Map sector classes to display names
        const sectorNames = {
            'healthcare': 'Healthcare',
            'hospitality': 'Hospitality',
            'leisure': 'Leisure',
            'travel': 'Travel',
            'business': 'Business Solutions'
        };

        jobCards.forEach(card => {
            const sector = detectSector(card);

            if (sector) {
                // Remove any existing sector classes
                card.classList.remove('healthcare', 'hospitality', 'leisure', 'travel', 'business');

                // Add the detected sector class
                card.classList.add(sector);

                // Also set data-category for CSS ::before content
                if (!card.hasAttribute('data-category')) {
                    card.setAttribute('data-category', sectorNames[sector]);
                }
            }
        });
    }

    // Function to apply sector class to job details page
    function applySectorToJobDetails() {
        const jobDetails = document.querySelector('.ja-job-details');

        if (jobDetails) {
            // ALWAYS detect from the job details content directly
            // Don't use sessionStorage as it can be stale or wrong
            let sector = detectSector(jobDetails);

            console.log('Box Recruitment: [FINAL] Detected sector from job details:', sector);

            if (sector) {
                // Remove any existing sector classes
                jobDetails.classList.remove('healthcare', 'hospitality', 'leisure', 'travel', 'business');

                // Add the detected sector class
                jobDetails.classList.add(sector);

                console.log('Box Recruitment: [FINAL] Added sector class:', sector);
                console.log('Box Recruitment: [FINAL] Job details classes:', jobDetails.className);

                // Save to sessionStorage for apply form to use
                sessionStorage.setItem('currentJobSector', sector);

                // CSS will handle all the styling based on the sector class
                // No need for inline styles anymore!
            }
        }
    }

    // Function to apply sector class to application form
    function applySectorToApplicationForm() {
        const applyForm = document.querySelector('.ja-job-apply');

        if (applyForm) {
            // First priority: sessionStorage (from job card click)
            let sector = sessionStorage.getItem('currentJobSector');

            // Second priority: detect from job details on page
            if (!sector) {
                const jobDetails = document.querySelector('.ja-job-details');
                if (jobDetails) {
                    sector = detectSector(jobDetails);
                }
            }

            console.log('Box Recruitment: Apply form sector:', sector, '(from sessionStorage:', sessionStorage.getItem('currentJobSector'), ')');

            if (sector) {
                // Remove any existing sector classes
                applyForm.classList.remove('healthcare', 'hospitality', 'leisure', 'travel', 'business');

                // Add the detected sector class
                applyForm.classList.add(sector);

                // Add sector logo to application form
                addSectorLogoToForm(applyForm, sector);
            }
        }
    }

    // Function to add sector-specific logo to application form
    function addSectorLogoToForm(applyForm, sector) {
        // Map sectors to logo file names (URL encoded for spaces)
        const logoMap = {
            'healthcare': 'Box%20Healthcare%20Recruitment.png',
            'hospitality': 'Box%20Hospitality%20Recruitment.png',
            'leisure': 'Box%20Leisure%20Recruitment.png',
            'travel': 'Box%20Travel%20Recruitment.png',
            'business': 'Box%20Solutions%20Recruitment%20logo.png'
        };

        const logoFile = logoMap[sector];
        if (!logoFile) {
            console.log('Box Recruitment: No logo found for sector:', sector);
            return;
        }

        // Check if logo already exists
        let logoContainer = applyForm.querySelector('.box-sector-logo');

        if (!logoContainer) {
            // Create logo container
            logoContainer = document.createElement('div');
            logoContainer.className = 'box-sector-logo';
            logoContainer.style.cssText = 'text-align: center; padding: 20px 30px 15px 30px; margin: 0; background: white;';

            // Create logo image
            const logoImg = document.createElement('img');
            logoImg.src = logoFile;
            logoImg.alt = sector.charAt(0).toUpperCase() + sector.slice(1) + ' Logo';
            logoImg.style.cssText = 'max-width: 200px; height: auto; display: inline-block;';

            // Add error handler
            logoImg.onerror = function() {
                console.error('Box Recruitment: Failed to load logo:', logoFile);
                logoContainer.style.display = 'none';
            };

            logoImg.onload = function() {
                console.log('Box Recruitment: Logo loaded successfully:', logoFile);
            };

            logoContainer.appendChild(logoImg);

            // Insert logo after the h2 header
            const header = applyForm.querySelector('h2');
            if (header && header.nextSibling) {
                header.parentNode.insertBefore(logoContainer, header.nextSibling);
            } else if (header) {
                header.parentNode.appendChild(logoContainer);
            } else {
                // If no header, insert at the beginning
                applyForm.insertBefore(logoContainer, applyForm.firstChild);
            }

            console.log('Box Recruitment: Added', sector, 'logo to application form');
        } else {
            // Update existing logo
            const logoImg = logoContainer.querySelector('img');
            if (logoImg) {
                logoImg.src = logoFile;
                logoImg.alt = sector.charAt(0).toUpperCase() + sector.slice(1) + ' Logo';
            }
        }
    }

    // Removed: We don't save sector from job cards anymore
    // The job details page will detect the sector directly from its own content

    // Function to hide/show filter based on current page
    function toggleFilterVisibility() {
        const filterContainer = document.getElementById('custom-filter-container');
        const jobDetails = document.querySelector('.ja-job-details');
        const applyForm = document.querySelector('.ja-job-apply');
        const jobList = document.querySelector('.ja-job-list');

        if (filterContainer) {
            // Hide filter on job details or apply form pages
            if (jobDetails || applyForm) {
                filterContainer.style.display = 'none';
                console.log('Box Recruitment: Filter hidden (on job details or apply form page)');
            }
            // Show filter on job list page
            else if (jobList) {
                filterContainer.style.display = 'block';
                console.log('Box Recruitment: Filter visible (on job list page)');
            }
        }
    }

    // Function to notify parent window (Wix) of height changes
    function notifyHeightChange() {
        try {
            const height = Math.max(
                document.body.scrollHeight,
                document.body.offsetHeight,
                document.documentElement.clientHeight,
                document.documentElement.scrollHeight,
                document.documentElement.offsetHeight
            );

            // Multiple methods to communicate with Wix
            if (window.parent && window.parent !== window) {
                // Method 1: Standard postMessage
                window.parent.postMessage({
                    type: 'setHeight',
                    height: height
                }, '*');

                // Method 2: Wix-specific message
                window.parent.postMessage({
                    intent: 'setHeight',
                    height: height
                }, '*');

                // Method 3: Another Wix format
                window.parent.postMessage(JSON.stringify({
                    type: 'setHeight',
                    value: height
                }), '*');

                console.log('Box Recruitment: Notified parent of height:', height + 'px');
            }
        } catch (e) {
            console.log('Box Recruitment: Could not notify parent:', e);
        }
    }

    // Main function to apply all sector styling
    function applySectorStyling() {
        applySectorToJobCards();
        applySectorToJobDetails();
        applySectorToApplicationForm();
        toggleFilterVisibility();

        // Notify parent of height change after styling
        setTimeout(notifyHeightChange, 100);
    }

    // Run when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applySectorStyling);
    } else {
        applySectorStyling();
    }

    // Run after delays to catch dynamically loaded content
    setTimeout(applySectorStyling, 500);
    setTimeout(applySectorStyling, 1000);
    setTimeout(applySectorStyling, 2000);
    setTimeout(applySectorStyling, 3000);

    // Watch for changes in the widget container
    const widgetObserver = new MutationObserver(function(mutations) {
        let shouldUpdate = false;

        mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length || mutation.type === 'attributes') {
                shouldUpdate = true;
            }
        });

        if (shouldUpdate) {
            setTimeout(applySectorStyling, 100);
            // Notify height change when content changes
            setTimeout(notifyHeightChange, 200);
        }
    });

    // Start observing the widget container
    const widgetContainer = document.getElementById('ja-jobs-widget');
    if (widgetContainer) {
        widgetObserver.observe(widgetContainer, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['class', 'data-category']
        });
    }

    // AGGRESSIVE SCROLL FIX: Prevent any scroll blocking
    function fixMobileScroll() {
        // Remove any overflow hidden that might block scroll
        document.documentElement.style.overflow = 'visible';
        document.documentElement.style.overflowY = 'visible';
        document.body.style.overflow = 'visible';
        document.body.style.overflowY = 'visible';
        document.body.style.position = 'static';
        document.body.style.touchAction = 'pan-y';

        // Ensure widget doesn't block scroll
        const widget = document.getElementById('ja-jobs-widget');
        if (widget) {
            widget.style.overflow = 'visible';
            widget.style.overflowY = 'visible';
            widget.style.height = 'auto';
            widget.style.maxHeight = 'none';
            widget.style.touchAction = 'pan-y';
        }

        // Notify parent of height change
        notifyHeightChange();

        console.log('Box Recruitment: Mobile scroll fix applied');
    }

    // Run scroll fix immediately and on resize
    fixMobileScroll();
    window.addEventListener('resize', fixMobileScroll);
    window.addEventListener('orientationchange', fixMobileScroll);
    window.addEventListener('load', fixMobileScroll);

    // Run scroll fix periodically to catch any dynamic changes
    setInterval(fixMobileScroll, 1000);

    // Also notify on scroll (in case Wix needs updates)
    let scrollTimeout;
    window.addEventListener('scroll', function() {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(notifyHeightChange, 100);
    }, { passive: true });

})();

// ============================================
// SECTOR FILTER INTEGRATION
// ============================================
(function() {
    'use strict';

    console.log('Box Recruitment: Initializing sector filter integration');

    // Function to apply pre-filter from URL parameter
    function applyPreFilterFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        const sectorParam = urlParams.get('sector');

        if (sectorParam) {
            console.log('Box Recruitment: Pre-filter sector from URL:', sectorParam);

            // Wait for custom filter UI and jobs to be available
            const checkReady = setInterval(function() {
                const dropdown = document.querySelector('.box-filter-dropdown select');
                const sectorButtons = document.querySelectorAll('.box-sector-button');
                const jobCards = document.querySelectorAll('.ja-job-list .job');

                if (dropdown && sectorButtons.length > 0 && jobCards.length > 0) {
                    clearInterval(checkReady);

                    // Normalize sector parameter
                    let sector = sectorParam.toLowerCase();
                    if (sector === 'business-solutions') {
                        sector = 'business';
                    }

                    console.log('Box Recruitment: Setting filter to sector:', sector);

                    // Set the dropdown value
                    dropdown.value = sector;

                    // Activate the corresponding sector button
                    sectorButtons.forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.getAttribute('data-sector') === sector) {
                            btn.classList.add('active');
                        }
                    });

                    // Apply the filter immediately
                    setTimeout(function() {
                        filterJobsBySector(sector, '');
                        console.log('Box Recruitment: Pre-filter applied successfully');
                    }, 300);
                }
            }, 100);

            // Stop checking after 10 seconds
            setTimeout(function() {
                clearInterval(checkReady);
            }, 10000);
        }
    }

    // Map JobAdder categories to our 5 sectors
    const categoryToSectorMap = {
        // Hospitality
        'chefs': 'hospitality',
        'head of food and beverage': 'hospitality',
        'general manager': 'hospitality',
        'reception': 'hospitality',
        'restaurant': 'hospitality',

        // Leisure
        'leisure and activities': 'leisure',
        'sport and leisure': 'leisure',
        'grounds and maintenance': 'leisure',
        'park wardens': 'leisure',

        // Travel
        'caravan sales': 'travel',
        'caravan sales managers': 'travel',

        // Business Solutions
        'sales': 'business',
        'marketing': 'business'
    };

    // Function to get sector from job element
    function getSectorFromJob(jobElement) {
        // Check for category in meta or data attributes
        const categoryElements = jobElement.querySelectorAll('.meta p, [class*="category"]');

        for (let elem of categoryElements) {
            const text = elem.textContent.toLowerCase();

            // Check if text contains any category keyword
            for (let category in categoryToSectorMap) {
                if (text.includes(category)) {
                    return categoryToSectorMap[category];
                }
            }
        }

        // Fallback: use the sector class if already applied
        if (jobElement.classList.contains('healthcare')) return 'healthcare';
        if (jobElement.classList.contains('hospitality')) return 'hospitality';
        if (jobElement.classList.contains('leisure')) return 'leisure';
        if (jobElement.classList.contains('travel')) return 'travel';
        if (jobElement.classList.contains('business')) return 'business';

        return null;
    }

    // Function to filter jobs by sector
    function filterJobsBySector(sector, keyword) {
        console.log('Box Recruitment: Filtering jobs - Sector:', sector, 'Keyword:', keyword);

        const jobCards = document.querySelectorAll('.ja-job-list .job');
        let visibleCount = 0;

        jobCards.forEach(job => {
            let showJob = true;

            // Filter by sector
            if (sector && sector !== '') {
                const jobSector = getSectorFromJob(job);
                if (jobSector !== sector) {
                    showJob = false;
                }
            }

            // Filter by keyword
            if (keyword && keyword.trim() !== '') {
                const jobText = job.textContent.toLowerCase();
                const keywords = keyword.toLowerCase().split(',').map(k => k.trim());

                const matchesKeyword = keywords.some(kw => jobText.includes(kw));
                if (!matchesKeyword) {
                    showJob = false;
                }
            }

            // Show/hide job
            if (showJob) {
                job.style.display = '';
                visibleCount++;
            } else {
                job.style.display = 'none';
            }
        });

        console.log('Box Recruitment: Showing', visibleCount, 'of', jobCards.length, 'jobs');

        // Show message if no jobs found
        showNoResultsMessage(visibleCount === 0);
    }

    // Function to show/hide "no results" message
    function showNoResultsMessage(show) {
        let message = document.querySelector('.box-no-results-message');

        if (show) {
            if (!message) {
                message = document.createElement('div');
                message.className = 'box-no-results-message';
                message.style.cssText = `
                    text-align: center;
                    padding: 40px 20px;
                    background: white;
                    border-radius: 16px;
                    border: 3px solid #e2e8f0;
                    margin: 20px auto;
                    max-width: 600px;
                `;
                message.innerHTML = `
                    <h3 style="color: #542B74; font-size: 20px; margin-bottom: 10px;">No Jobs Found</h3>
                    <p style="color: #666; font-size: 14px;">Try adjusting your filters or search criteria.</p>
                `;

                const jobList = document.querySelector('.ja-job-list');
                if (jobList) {
                    jobList.parentNode.insertBefore(message, jobList.nextSibling);
                }
            }
            message.style.display = 'block';
        } else {
            if (message) {
                message.style.display = 'none';
            }
        }
    }

    // Function to create advanced filters UI
    function createAdvancedFiltersUI() {
        const checkSearchForm = setInterval(function() {
            const searchForm = document.querySelector('.ja-search-form');

            if (searchForm && !searchForm.hasAttribute('data-advanced-ui')) {
                clearInterval(checkSearchForm);
                searchForm.setAttribute('data-advanced-ui', 'true');

                console.log('Box Recruitment: Creating advanced filters UI');

                // Create advanced filters container
                const advancedFilters = document.createElement('div');
                advancedFilters.className = 'box-advanced-filters';

                // Create header
                const header = document.createElement('div');
                header.className = 'box-advanced-filters-header';
                header.textContent = 'Advanced Filters';
                advancedFilters.appendChild(header);

                // Create grid for filter fields
                const grid = document.createElement('div');
                grid.className = 'box-advanced-filters-grid';

                // Get JobAdder form fields
                const jaFields = searchForm.querySelectorAll('.ja-field-container');

                jaFields.forEach(fieldContainer => {
                    const label = fieldContainer.querySelector('label');
                    const input = fieldContainer.querySelector('select, input[type="text"]');

                    if (label && input) {
                        const field = document.createElement('div');
                        field.className = 'box-filter-field';

                        const newLabel = document.createElement('label');
                        newLabel.textContent = label.textContent;
                        field.appendChild(newLabel);

                        const newInput = input.cloneNode(true);
                        field.appendChild(newInput);

                        grid.appendChild(field);
                    }
                });

                advancedFilters.appendChild(grid);

                // Create actions section
                const actions = document.createElement('div');
                actions.className = 'box-advanced-filters-actions';

                // Search button
                const searchBtn = document.createElement('button');
                searchBtn.className = 'box-advanced-search-btn';
                searchBtn.textContent = 'SEARCH JOBS';
                searchBtn.type = 'button';

                searchBtn.addEventListener('click', function() {
                    console.log('Box Recruitment: Advanced search triggered');
                    // Trigger JobAdder search
                    const jaSubmitBtn = searchForm.querySelector('button[type="submit"], .ja-button');
                    if (jaSubmitBtn) {
                        jaSubmitBtn.click();
                    }
                });

                actions.appendChild(searchBtn);

                // Clear button
                const clearBtn = document.createElement('button');
                clearBtn.className = 'box-advanced-clear-btn';
                clearBtn.textContent = 'CLEAR ALL';
                clearBtn.type = 'button';

                clearBtn.addEventListener('click', function() {
                    // Clear all advanced filter fields
                    advancedFilters.querySelectorAll('select, input[type="text"]').forEach(input => {
                        if (input.tagName === 'SELECT') {
                            input.selectedIndex = 0;
                        } else {
                            input.value = '';
                        }
                    });

                    // Also clear quick filters
                    if (window.boxFilterDropdown) window.boxFilterDropdown.value = '';
                    if (window.boxFilterInput) window.boxFilterInput.value = '';
                    if (window.boxFilterButtons) {
                        window.boxFilterButtons.querySelectorAll('.box-sector-button').forEach(btn => {
                            btn.classList.remove('active');
                        });
                    }

                    // Show all jobs
                    filterJobsBySector('', '');
                    console.log('Box Recruitment: All filters cleared');
                });

                actions.appendChild(clearBtn);
                advancedFilters.appendChild(actions);

                // Insert after the quick filter wrapper
                const quickFilterWrapper = document.querySelector('.box-filter-wrapper');
                if (quickFilterWrapper) {
                    quickFilterWrapper.parentNode.insertBefore(advancedFilters, quickFilterWrapper.nextSibling);
                } else {
                    searchForm.parentNode.insertBefore(advancedFilters, searchForm);
                }

                console.log('Box Recruitment: Advanced filters UI created');
            }
        }, 200);

        setTimeout(function() {
            clearInterval(checkSearchForm);
        }, 10000);
    }

    // Function to create compact modern filter UI
    function createCustomFilterUI() {
        const checkSearchForm = setInterval(function() {
            const searchForm = document.querySelector('.ja-search-form');

            if (searchForm && !searchForm.hasAttribute('data-custom-ui')) {
                clearInterval(checkSearchForm);
                searchForm.setAttribute('data-custom-ui', 'true');

                console.log('Box Recruitment: Creating compact filter UI');

                // Create wrapper
                const wrapper = document.createElement('div');
                wrapper.className = 'box-filter-wrapper';

                // Create filter container
                const filterContainer = document.createElement('div');
                filterContainer.className = 'box-filter-container';

                // Create heading
                const heading = document.createElement('h2');
                heading.className = 'box-filter-heading';
                heading.textContent = 'QUICK FILTERS';
                filterContainer.appendChild(heading);

                // Create sector buttons (horizontal pills)
                const sectorButtons = document.createElement('div');
                sectorButtons.className = 'box-sector-buttons';

                const sectors = ['HOSPITALITY', 'HEALTHCARE', 'LEISURE', 'TRAVEL', 'BUSINESS'];
                sectors.forEach(sector => {
                    const button = document.createElement('button');
                    button.className = 'box-sector-button';
                    button.textContent = sector;
                    button.setAttribute('data-sector', sector.toLowerCase());
                    button.type = 'button';

                    button.addEventListener('click', function() {
                        // Toggle active state
                        const isActive = this.classList.contains('active');

                        // Remove active from all buttons
                        sectorButtons.querySelectorAll('.box-sector-button').forEach(btn => {
                            btn.classList.remove('active');
                        });

                        if (!isActive) {
                            // Add active to clicked button
                            this.classList.add('active');

                            // Set dropdown value
                            const dropdown = wrapper.querySelector('.box-filter-dropdown select');
                            if (dropdown) {
                                dropdown.value = this.getAttribute('data-sector');
                            }
                        } else {
                            // Clear dropdown if clicking active button again
                            const dropdown = wrapper.querySelector('.box-filter-dropdown select');
                            if (dropdown) {
                                dropdown.value = '';
                            }
                        }
                    });

                    sectorButtons.appendChild(button);
                });

                filterContainer.appendChild(sectorButtons);

                // Create filter controls
                const filterControls = document.createElement('div');
                filterControls.className = 'box-filter-controls';

                // Sector dropdown
                const dropdownWrapper = document.createElement('div');
                dropdownWrapper.className = 'box-filter-dropdown';
                const dropdown = document.createElement('select');
                dropdown.innerHTML = `
                    <option value="">All Sectors</option>
                    <option value="hospitality">Hospitality</option>
                    <option value="healthcare">Healthcare</option>
                    <option value="leisure">Leisure</option>
                    <option value="travel">Travel</option>
                    <option value="business">Business</option>
                `;

                dropdown.addEventListener('change', function() {
                    // Update sector buttons
                    sectorButtons.querySelectorAll('.box-sector-button').forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.getAttribute('data-sector') === this.value) {
                            btn.classList.add('active');
                        }
                    });
                });

                dropdownWrapper.appendChild(dropdown);
                filterControls.appendChild(dropdownWrapper);

                // Keywords input (create first so we can reference it)
                const inputWrapper = document.createElement('div');
                inputWrapper.className = 'box-filter-input';
                const input = document.createElement('input');
                input.type = 'text';
                input.placeholder = 'Keywords (separate with comma)';
                inputWrapper.appendChild(input);

                // Search button (add BEFORE keywords input as per client request)
                const searchButton = document.createElement('button');
                searchButton.className = 'box-filter-button';
                searchButton.textContent = 'SEARCH';
                searchButton.type = 'button';

                searchButton.addEventListener('click', function() {
                    const sector = dropdown.value;
                    const keyword = input.value;

                    console.log('Box Recruitment: Filter applied - Sector:', sector, 'Keyword:', keyword);
                    filterJobsBySector(sector, keyword);
                });

                // Add search button first, then keywords input
                filterControls.appendChild(searchButton);
                filterControls.appendChild(inputWrapper);

                // Allow Enter key to trigger search
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        searchButton.click();
                    }
                });

                // Clear button
                const clearButton = document.createElement('button');
                clearButton.className = 'box-filter-clear';
                clearButton.textContent = 'CLEAR';
                clearButton.type = 'button';

                clearButton.addEventListener('click', function() {
                    // Reset all filters
                    dropdown.value = '';
                    input.value = '';
                    sectorButtons.querySelectorAll('.box-sector-button').forEach(btn => {
                        btn.classList.remove('active');
                    });

                    // Show all jobs
                    filterJobsBySector('', '');
                    console.log('Box Recruitment: Filters cleared');
                });

                filterControls.appendChild(clearButton);
                filterContainer.appendChild(filterControls);

                wrapper.appendChild(filterContainer);

                // Insert custom UI before search form
                searchForm.parentNode.insertBefore(wrapper, searchForm);

                console.log('Box Recruitment: Compact filter UI created');

                // Store references for later use
                window.boxFilterDropdown = dropdown;
                window.boxFilterInput = input;
                window.boxFilterButtons = sectorButtons;
            }
        }, 100);

        // Stop checking after 10 seconds
        setTimeout(function() {
            clearInterval(checkSearchForm);
        }, 10000);
    }

    // Initialize on page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            createCustomFilterUI();
            applyPreFilterFromURL();
        });
    } else {
        createCustomFilterUI();
        applyPreFilterFromURL();
    }

    // Also watch for dynamic content changes
    const observer = new MutationObserver(function(mutations) {
        createCustomFilterUI();
    });

    const widgetContainer = document.querySelector('#ja-jobs-widget, body');
    if (widgetContainer) {
        observer.observe(widgetContainer, {
            childList: true,
            subtree: true
        });
    }

})();

// ============================================
// CUSTOM APPLICATION FORM INTEGRATION
// ============================================
(function() {
    'use strict';

    // Intercept apply button clicks to pass job details
    function interceptApplyButtons() {
        // Find all "Apply Now" buttons in job details
        const applyButtons = document.querySelectorAll('.ja-job-details .ja-apply-button, .ja-job-details button, .ja-job-details .ja-button');

        console.log('Box Recruitment: Found', applyButtons.length, 'apply buttons');

        applyButtons.forEach(button => {
            // Check if button text contains "Apply"
            const buttonText = button.textContent.toLowerCase();
            if (buttonText.includes('apply')) {
                console.log('Box Recruitment: Intercepting apply button:', button.textContent);

                // Remove existing listeners by cloning
                const newButton = button.cloneNode(true);
                button.parentNode.replaceChild(newButton, button);

                // Add new click handler
                newButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    console.log('Box Recruitment: Apply button clicked');

                    // Get job details from the page
                    const jobDetails = document.querySelector('.ja-job-details');
                    if (jobDetails) {
                        const jobTitle = jobDetails.querySelector('h1, h2, .title');
                        const jobId = jobDetails.getAttribute('data-job-id') ||
                                     jobDetails.querySelector('[data-job-id]')?.getAttribute('data-job-id') ||
                                     'unknown';
                        const category = jobDetails.querySelector('.category, .ja-category, .meta .category');

                        // Detect sector
                        let sector = 'hospitality';
                        if (category) {
                            const categoryText = category.textContent.toLowerCase();
                            if (categoryText.includes('healthcare')) sector = 'healthcare';
                            else if (categoryText.includes('leisure')) sector = 'leisure';
                            else if (categoryText.includes('travel')) sector = 'travel';
                            else if (categoryText.includes('business')) sector = 'business';
                        }

                        // Build URL with parameters
                        const params = new URLSearchParams({
                            jobId: jobId,
                            title: jobTitle ? jobTitle.textContent.trim() : 'Position',
                            sector: sector
                        });

                        // Redirect to custom form
                        const customFormUrl = `apply-hospitality.html?${params.toString()}`;

                        console.log('Box Recruitment: Redirecting to:', customFormUrl);
                        window.location.href = customFormUrl;
                    }
                }, true);
            }
        });
    }

    // Also intercept any links that might trigger the apply form
    function interceptApplyLinks() {
        const links = document.querySelectorAll('a');
        links.forEach(link => {
            const href = link.getAttribute('href') || '';
            const text = link.textContent.toLowerCase();

            if (text.includes('apply') || href.includes('apply')) {
                link.addEventListener('click', function(e) {
                    // Check if this is within job details
                    const jobDetails = link.closest('.ja-job-details');
                    if (jobDetails) {
                        e.preventDefault();
                        e.stopPropagation();

                        const jobTitle = jobDetails.querySelector('h1, h2, .title');
                        const params = new URLSearchParams({
                            jobId: 'unknown',
                            title: jobTitle ? jobTitle.textContent.trim() : 'Position',
                            sector: 'hospitality'
                        });

                        window.location.href = `apply-hospitality.html?${params.toString()}`;
                    }
                }, true);
            }
        });
    }

    // Run interceptors multiple times to catch dynamically loaded content
    function runInterceptors() {
        interceptApplyButtons();
        interceptApplyLinks();
    }

    // Run on page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', runInterceptors);
    } else {
        runInterceptors();
    }

    // Run after delays to catch JobAdder's dynamic content
    setTimeout(runInterceptors, 500);
    setTimeout(runInterceptors, 1000);
    setTimeout(runInterceptors, 2000);
    setTimeout(runInterceptors, 3000);

    // Watch for DOM changes
    const observer = new MutationObserver(function(mutations) {
        runInterceptors();
    });

    const widgetContainer = document.getElementById('ja-jobs-widget');
    if (widgetContainer) {
        observer.observe(widgetContainer, {
            childList: true,
            subtree: true,
            attributes: false
        });
    }

})();

// ============================================
// CUSTOM FILTER FUNCTIONALITY
// ============================================

(function() {
    console.log('Custom Filter: Initializing');

    let selectedSector = '';
    let keywords = '';

    // Wait for JobAdder to load AND sector classes to be applied
    function waitForJobAdder() {
        const checkInterval = setInterval(function() {
            const jobList = document.querySelector('.ja-job-list');
            const jobCards = document.querySelectorAll('.ja-job-list .job');

            // Check if jobs exist and at least one has a sector class
            if (jobList && jobCards.length > 0) {
                let hasSectorClasses = false;
                jobCards.forEach(function(card) {
                    if (card.classList.contains('hospitality') ||
                        card.classList.contains('leisure') ||
                        card.classList.contains('travel') ||
                        card.classList.contains('healthcare') ||
                        card.classList.contains('business')) {
                        hasSectorClasses = true;
                    }
                });

                if (hasSectorClasses) {
                    clearInterval(checkInterval);
                    console.log('Custom Filter: JobAdder loaded and sectors detected, setting up filter');
                    setupFilter();
                }
            }
        }, 200);

        // Fallback: setup after 5 seconds even if sectors not detected
        setTimeout(function() {
            clearInterval(checkInterval);
            if (!document.querySelector('.sector-btn[data-sector]')?.hasAttribute('data-initialized')) {
                console.log('Custom Filter: Timeout reached, setting up filter anyway');
                setupFilter();
            }
        }, 5000);
    }

    function setupFilter() {
        // Get filter elements
        const sectorButtons = document.querySelectorAll('.sector-btn');
        const sectorDropdown = document.getElementById('sector-dropdown');
        const keywordsInput = document.getElementById('keywords-input');
        const searchBtn = document.getElementById('search-btn');

        // Check if already initialized
        if (sectorButtons[0]?.hasAttribute('data-initialized')) {
            console.log('Custom Filter: Already initialized, skipping');
            return;
        }

        // Mark as initialized
        sectorButtons.forEach(btn => btn.setAttribute('data-initialized', 'true'));

        console.log('Custom Filter: Setting up event handlers');

        // Sector button click handlers
        sectorButtons.forEach(function(btn) {
            btn.addEventListener('click', function() {
                const sector = btn.getAttribute('data-sector');

                // Toggle active state
                sectorButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Update dropdown
                sectorDropdown.value = sector;
                selectedSector = sector;

                // Save to sessionStorage so job details/apply form can use it
                if (sector) {
                    sessionStorage.setItem('selectedSectorFilter', sector);
                }

                // Filter jobs
                filterJobs();

                console.log('Custom Filter: Sector button clicked:', sector);
            });
        });

        // Dropdown change handler
        sectorDropdown.addEventListener('change', function() {
            selectedSector = this.value;

            // Update button states
            sectorButtons.forEach(btn => {
                if (btn.getAttribute('data-sector') === selectedSector) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            // Save to sessionStorage so job details/apply form can use it
            if (selectedSector) {
                sessionStorage.setItem('selectedSectorFilter', selectedSector);
            }

            // Filter jobs
            filterJobs();

            console.log('Custom Filter: Dropdown changed:', selectedSector);
        });

        // Keywords input handler
        keywordsInput.addEventListener('input', function() {
            keywords = this.value.toLowerCase();
        });

        // Search button handler
        searchBtn.addEventListener('click', function() {
            filterJobs();
            console.log('Custom Filter: Search clicked');
        });

        // Enter key in keywords input
        keywordsInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                filterJobs();
            }
        });
    }

    function filterJobs() {
        console.log('Custom Filter: Filtering jobs - Sector:', selectedSector, 'Keywords:', keywords);

        // Get all job cards from JobAdder
        const jobCards = document.querySelectorAll('.ja-job-list .job');
        let visibleCount = 0;

        // Count jobs per sector for debugging
        const sectorCounts = {
            hospitality: 0,
            leisure: 0,
            travel: 0,
            healthcare: 0,
            business: 0,
            unclassified: 0
        };

        jobCards.forEach(function(card) {
            // Count sectors
            if (card.classList.contains('hospitality')) sectorCounts.hospitality++;
            else if (card.classList.contains('leisure')) sectorCounts.leisure++;
            else if (card.classList.contains('travel')) sectorCounts.travel++;
            else if (card.classList.contains('healthcare')) sectorCounts.healthcare++;
            else if (card.classList.contains('business')) sectorCounts.business++;
            else sectorCounts.unclassified++;

            let show = true;

            // Get job text content
            const jobText = card.textContent.toLowerCase();

            // Filter by sector
            if (selectedSector && selectedSector !== '') {
                // Check if card has the sector class (applied by sector detection script)
                const hasSectorClass = card.classList.contains(selectedSector);

                if (!hasSectorClass) {
                    show = false;
                }
            }

            // Filter by keywords
            if (keywords && keywords.trim() !== '' && show) {
                const keywordList = keywords.split(',').map(k => k.trim()).filter(k => k);

                if (keywordList.length > 0) {
                    const hasKeyword = keywordList.some(keyword => jobText.includes(keyword));

                    if (!hasKeyword) {
                        show = false;
                    }
                }
            }

            // Show/hide card
            if (show) {
                card.style.display = '';
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });

        console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');
        console.log('📊 SECTOR DISTRIBUTION:', sectorCounts);
        console.log('🔍 Filter Results: Showing', visibleCount, 'of', jobCards.length, 'jobs');
        console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');

        // Show message if no jobs found
        showNoResultsMessage(visibleCount === 0);
    }

    function showNoResultsMessage(show) {
        let message = document.getElementById('no-results-message');

        if (show && !message) {
            message = document.createElement('div');
            message.id = 'no-results-message';
            message.style.cssText = 'text-align: center; padding: 40px; font-size: 18px; color: #666;';
            message.textContent = 'No jobs found matching your criteria. Try adjusting your filters.';

            const jobList = document.querySelector('.ja-job-list');
            if (jobList) {
                jobList.appendChild(message);
            }
        } else if (!show && message) {
            message.remove();
        }
    }

    // Start initialization
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', waitForJobAdder);
    } else {
        waitForJobAdder();
    }
})();

</script>

</body>
</html>